<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="王诛魔">
  <meta name="author" content="wangzhumo">
  <meta name="keywords" content="">
  <title>Linux 学习笔记 ~ 王诛魔</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/github-v2.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>王诛魔</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/default.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  星期日, 十二月 24日 2017, 11:50 晚上
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    2.1k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      8 分钟
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <ul>
<li>netstat -an</li>
</ul>
<pre><code>查看所有网络连接
</code></pre><ul>
<li>more命令</li>
</ul>
<pre><code>选项

-num    指定屏幕的行数（以整数表示）

+num    从行号num开始显示

-d    让more给用户显示信息[Press space to continue, &#39;q&#39; to quit.]

-f    使more计数逻辑行，而不是屏幕行（长行不会断到下一行）

-s   把重复的空行压缩成一个空行

-u    防止下划线

交互基于VIM
</code></pre><a id="more"></a>
<ul>
<li>字符界面</li>
</ul>
<p>1.字符界面占用资源少</p>
<p>2.减少了出错,被攻击的可能</p>
<ul>
<li>一切皆文件</li>
</ul>
<p>用户  硬件 文件….</p>
<ul>
<li>分区</li>
<li>swap 内存的两倍</li>
</ul>
<p>/ 根分区</p>
<p>/boot    boot分区  200m即可  (作为启动盘使用,启动需要空间)</p>
<p>/home  </p>
<p>/etc</p>
<p>…</p>
<ul>
<li>安装日志</li>
</ul>
<p>/root/install.log     记录了安装在系统中的软件包和版本信息</p>
<p>/root/install.log.syslog    安装过程的记录</p>
<p>/root/anaconda-ks.cfg    记录安装过程中的配置信息(用于网络批量安装)</p>
<ul>
<li>linux起始符</li>
</ul>
<pre><code class="shell">[root@hadoop ~]#
root 用户名
hadoop  当前用户的主机名
&quot;~&quot; 当前的目录, &quot;~&quot;表示家目录
&quot;#&quot; 超级用户的提示符
&quot;$&quot; 普通用户的提示符
</code></pre>
<pre><code>
</code></pre><ul>
<li>-rw-r–r–</li>
</ul>
<pre><code class="shell">drwxr-xr-x. 2 wzm wzm 4096 6月  21 16:19 Desktop
#一共10位  drwxr-xr-x
#d
第一位 文件类型( -文件  d目录 |软链接文件   c  b )
#rwx r-x r-x
后面的每三位是一组
第一个三位   所属者u
第二个三位   所属组g
第三个三位   其他人o
#acf权限
r读
w写
x执行
</code></pre>
<ul>
<li>目录</li>
</ul>
<pre><code class="shell">/        根目录
/etc     配置文件目录
/bin     系统命令的目录 (普通用户即可读取)
/sbin    系统命令的目录 (超级用户即可读取)
/usr/bin 系统命令的目录 (普通用户即可读取)
/usr/sbin系统命令的目录 (超级用户即可读取)
/home    普通用户的家目录
/root    超级用户的家目录
/usr     系统软件资源目录
/boot    启动目录
/var     系统相关文档
/sys     直接写入内存
/proc    直接写入内存
/dev     设备文件目录
/lib     系统库 保存目录
/mnt     系统挂载目录
/media   挂载目录
</code></pre>
<ul>
<li><p>linux 常用命令     control + L  清屏</p>
</li>
<li><p>文件命令</p>
<ul>
<li>基本命令格式</li>
</ul>
<pre><code class="shell">命令 [选项] [参数]
#ls
ls 
   -a  显示所有文件
   -l  显示详细信息,目录下所有内容
   -d  查看目录属性,目录本身
   -h  人性化显示文件大小
   -i  显示inode  文件的id号
ll ll -l
#
</code></pre>
</li>
</ul>
<ul>
<li><p>目录文件处理</p>
<pre><code class="shell">#mkdir  创建目录
mkdir 
-p  递归创建,创建多级目录

#cd  切换目录
cd 
~  当前用户的家目录
-  进入上次进入的目录
.. 进入上级目录
.  进入当前目录

#pwd
pwd  显示当前目录全路径

#rm -rf [文件或目录]
rm 
-f 强制删除
-r 删除目录

#cp
cp
-r 复制目录
-p 连带文件的属性一起复制
-d 如果文件为链接文件,则复制链接属性
-a 相当于-pdr

#mv
mv [源地址] [目标地址]
</code></pre>
</li>
</ul>
<ul>
<li><p>软链接命令(源文件一定写巨绝对路径)</p>
<pre><code class="shell">#ln [源] [目标]
ln
不能跨分区,不能是一个目录
相当于一个文件   文件id号相同

-s    软链接   类似windows里面的快捷方式
有自己的id号   
其实是去查看自己的存储点,
存储点里面是源文件的id号,
然后又用源文件id号去找源文件的存储点
</code></pre>
</li>
</ul>
<ul>
<li><p>搜索命令</p>
<pre><code>locate 文件搜索命令
whereis 与 which
find 文件搜索命令
grep 字符串搜索命令
</code></pre><ul>
<li><p>locate </p>
<pre><code class="shell">#locate
locate [文件名]

在后台数据库中按文件名搜索
位置在:
/var/lib/mlocate

#updatedb
updatedb 更新数据库
</code></pre>
</li>
<li><p>whereis </p>
<pre><code class="shell">#whereis
whereis [命令名]
 -b 之查找可执行文件
 -m 只查找帮助文件
</code></pre>
</li>
<li><p>which</p>
<pre><code class="shell">查看
#which
which [文件名]
搜索命令所在目录路径已经别名
</code></pre>
</li>
<li><p>find</p>
<pre><code class="shell">#find

#避大范围搜索,会非常消耗系统资源
#如果不用通配符,则会搜索与文件名完全一致的文件

find [搜素范围] [搜索条件]

find [搜素范围] 
  -name [名字]

  -iname [名字]  不区分大小写

  -user [所有者]  按所有者搜索

  -nouser   查找没有所有者的文件 

  -mtime  [] 修改文件内容的时间 
  -atime  [] 文件访问时间
  -ctime  [] 改变文件属性的时间
    [-10 10 +10  10天内  10天当天  +10天前]

  -size [大小]  当前目录下查找大小是 25k的文件
    [-25k 25k +25k]
    [-2M 2M +2M]

  -inum [id号]  

  -a   and 逻辑与,同时满足两个条件
   eg find /etc -size +25k -a -size -50k

  -o   or  逻辑或,两个条件满足一个条件即可

  -exec [一个命令] {} \;   搜索出来的结果再执行一次命令
   eg find /etc -size +25k -a -size -50k -exec ls -lh {} \;

#通配符
*    匹配任何内容
?    匹配任意一个字符
[]   匹配任意一个中口号内的字符    
     eg:  abc  abd
     find /home -name ab[cd]
</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>grep</p>
<pre><code class="shell">#grep
grep &quot;size&quot; system.log

grep是包含匹配   在  system.log  中查找&quot;size&quot;
</code></pre>
</li>
</ul>
<ul>
<li><p>帮助命令</p>
<pre><code class="shell">man [命令]

whatis [命令] 

man -f [命令]   命令的帮助级别

man -k [命令]   模糊匹配

apropos [命令]   模糊匹配

[命令] --help

内核的命令查看帮助

help [命令]
</code></pre>
</li>
</ul>
<ul>
<li><p>压缩与解压缩</p>
<pre><code class="shell">常用压缩格式   .zip  .gz  .bz2   .tar.gz   .tar.bz2
</code></pre>
<ul>
<li><p>zip</p>
<pre><code class="shell">zip [压缩文件名字] [源文件]

zip -r [压缩文件名字] [源目录]

#解压缩
unzip [zip文件]
</code></pre>
</li>
<li><p>gz</p>
<pre><code class="shell">gzip [源文件]   
#压缩为.gz格式的压缩文件,源文件会消失

gzip -c [源文件] &gt; 压缩文件
#压缩为.gz格式 ,源文件保留

gzip -r [源目录] 
#压缩目录下所有的子文件,但是不能压缩目录

#解压缩
gzip -d [压缩文件]

gunzip [压缩文件]

gzp -d -r [目录]   解压目录下所有的文件
</code></pre>
</li>
<li><p>tar </p>
<pre><code>#tar
tar -cvf [打包文件名] [源文件]
  -c 打包
  -v 显示过程
  -f 指定打包后的文件名
     eg tar -cvf jp.tar jp

#解压缩
tar -xvf [压缩文件]
</code></pre><ul>
<li>.tar.gz</li>
</ul>
<pre><code>tar -zcvf [压缩文件名] [源文件]

#解压缩
tar -zxvf [压缩包名.tar.gz]
</code></pre></li>
</ul>
</li>
<li><p>关机和重启</p>
</li>
</ul>
<pre><code>shutdown [选项] 时间
 -c   取消前一个关机命令
 -h   关机
 -r   重启

logout 退出登录
</code></pre><ul>
<li>其他的命令</li>
</ul>
<pre><code>w  显示所有的登录用户
last  所有登录信息
lastlog   所有用户登录信息
</code></pre><ul>
<li>其他快捷键</li>
</ul>
<pre><code>control + c   强制终止当前命令
control + l   清屏
control + a   光标移动到行首
control + e   光标移动到行尾
control + u   从光标位置删除到行首
control + z   把命令放入到后台
control + r   在历史记录中搜索
</code></pre><ul>
<li>输出重定向</li>
</ul>
<pre><code>#标准的输出重定向
命令 &gt; 文件    覆盖的方式写入

命令 &gt;&gt; 文件   追加的方式写入

#错误输出重定向

错误命令 2&gt; 文件  覆盖的方式写入错误提示
错误命令 2&gt;&gt; 文件  追加的方式写入错误提示

#正确和错误的同时输出
命令  &gt;&gt; 文件 2&gt;&amp;1

命令  &amp;&gt;&gt; 文件

#正确错误分开输出
命令 &gt;&gt; 文件 2&gt;&gt; 文件
</code></pre><p>-输入重定向</p>
<pre><code>wc [选项] [文件名]
    -c 统计字节数
    -w 统计单词数
    -l 统计行数

wc
在终端输入文字    
control + D 统计结果


wc [文件名]
   文件内容输入到终端
</code></pre><ul>
<li><p>管道符</p>
<ul>
<li><p>多命令执行(前一条命令的结果不会传入)</p>
<pre><code>[命令1] ; [命令2]    顺序执行

[命令1] &amp;&amp; [命令2]    
    命令1执行正确   命令2执行
    命令1执行错误   命令2不会执行

[命令1] || [命令2]  
    当命令1执行不正确   命令2执行
    命令1执行正确   命令2就不会执行
</code></pre><ul>
<li>管道符(前一条命令的结果传入下一个命令)</li>
</ul>
<pre><code># |
  [命令1] | [命令2]
  命令2会去操作命令1执行的结果
</code></pre></li>
</ul>
</li>
<li><p>通配符</p>
</li>
</ul>
<pre><code>?       任意一个字符
*       任意内容
[]      匹配括号中的某一个字符
[-]     匹配括号中的任意一个字符 - 代表一个范围 [a-z] [1-3]
[^]     表示匹配不是括号中的字符 比如[^0-9] 指匹配不是数字的字符

&#39;&#39;      单引号   在单引号中所有字符都没有特殊含义
&quot;&quot;      双引号 除了&quot;$&quot; 和 &quot;`&quot; &quot;\&quot; 其他字符都没有特殊意义

``      反引号 是系统命令内容
$()     用来引用系统命令
#       shell中表示注释
$       调用变量的值
\       转义符
</code></pre>
            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/Server">Server</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/Server%EF%BC%8CLinux">Server，Linux</a>
                
              </span>
            
            </p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    
  <!-- 备案信息 -->
  <a href="http://beian.miit.gov.cn/" target="_blank"
     rel="nofollow noopener">京ICP备19052807号</a>
  


  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  
    <!-- Baidu Analytics -->
    <script>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  
    <!-- Google Analytics -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', '', 'auto');
      ga('send', 'pageview');
    </script>
  

  

  

  




  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Linux 学习笔记&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>







</body>
</html>
