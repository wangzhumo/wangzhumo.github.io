<!DOCTYPE html>






  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.2.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.2.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'Y0F5C6OL04',
      apiKey: '6b4b535935e685717b4a40aa51248058',
      indexName: 'wangzhumo',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="ç‹è¯›é­”">
<meta property="og:type" content="website">
<meta property="og:title" content="ç‹è¯›é­”">
<meta property="og:url" content="http://www.wangzhumo.com/page/2/index.html">
<meta property="og:site_name" content="ç‹è¯›é­”">
<meta property="og:description" content="ç‹è¯›é­”">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç‹è¯›é­”">
<meta name="twitter:description" content="ç‹è¯›é­”">






  <link rel="canonical" href="http://www.wangzhumo.com/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ç‹è¯›é­”</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113556711-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113556711-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ç‹è¯›é­”</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç‹è¯›é­”çš„åšå®¢</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />é¦–é¡µ</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />æ ‡ç­¾</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />åˆ†ç±»</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />å½’æ¡£</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Android-Test/Android-å•å…ƒæµ‹è¯•-ä¸€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Android-Test/Android-å•å…ƒæµ‹è¯•-ä¸€/" itemprop="url">
                  Android å•å…ƒæµ‹è¯•(ä¸€)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-02-26 14:25:49" itemprop="dateCreated datePublished" datetime="2018-02-26T14:25:49+08:00">2018-02-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-03-01 15:29:23" itemprop="dateModified" datetime="2018-03-01T15:29:23+08:00">2018-03-01</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android-Test/" itemprop="url" rel="index"><span itemprop="name">Android Test</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="åˆè¯†å•å…ƒæµ‹è¯•"><a href="#åˆè¯†å•å…ƒæµ‹è¯•" class="headerlink" title="åˆè¯†å•å…ƒæµ‹è¯•"></a>åˆè¯†å•å…ƒæµ‹è¯•</h4><p>å½“é¡¹ç›®è¶Šæ¥è¶Šå¤§çš„æ—¶å€™,æ‰“åŒ… &gt; æµ‹è¯• &gt; æ”¹ä»£ç  &gt; æ‰“åŒ… &gt; æµ‹è¯• â€¦.è¿™æ ·çš„æµç¨‹æ—¢è´¹æ—¶ä¹Ÿè´¹åŠ›.</p>
<p>æ‰€ä»¥,äº†è§£ä¸€ä¸‹å•å…ƒæµ‹è¯•,çœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜.</p>
<p>(å¹³æ—¶å¤ªæ‡’äº†,å°±æ²¡æ­£ç»çš„äº†è§£è¿‡Androidè¿™è¾¹çš„å•å…ƒæµ‹è¯•,æ²¡æœ‰ä¸€ä¸ªç¡®åˆ‡çš„æ¦‚å¿µ)</p>
<p>é‚£ä¹ˆ,æˆ‘å­¦ä¹ å•å…ƒæµ‹è¯•çš„åŸå› ç«Ÿç„¶æ˜¯ <strong>å› ä¸ºæˆ‘æ‡’</strong></p>
<p>å½“æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™,Android Studioæ€»ä¼šå»è‡ªåŠ¨å¯¼å…¥ä¸€ä¸ªåŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testImplementation &apos;junit:junit:4.12&apos;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå°±æ˜¯ä¼ è¯´ä¸­çš„   Junit äº†,è¿™ç©æ„é’ˆå¯¹Javaçš„,æ‰€ä»¥ä¸æ¶‰åŠåˆ°Androidéƒ¨åˆ†çš„æµ‹è¯•å¯ä»¥ä½¿ç”¨</p>
<p>è·Ÿç€ä»‹ç»ä¹Ÿæ‰“äº†ä¸€ä¸ªä¾‹å­:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨commonlibä¸­å†™äº†ä¸€ä¸ªCalculator,é‡Œé¢ç®€å•çš„åŠ æ³•</span></span><br><span class="line"><span class="keyword">package</span> com.wangzhumo.app.commonlib.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">verity</span><span class="params">(String phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (phone == <span class="keyword">null</span> || phone.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"phone cannot be empty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ä¸»é¡¹ç›®ä¸­</span></span><br><span class="line"><span class="comment">//testç›®å½•ä¸‹</span></span><br><span class="line"><span class="keyword">package</span> com.wangzhumo.app.test;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CalculatorTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Calculator calculator;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initCalculator</span><span class="params">()</span></span>&#123;</span><br><span class="line">        calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCalculator</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = calculator.add(<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line">        Assert.assertEquals(<span class="number">6</span>,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ å…¥æç¤ºä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCalculatorWithMessage</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = calculator.add(<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line">        <span class="comment">//assertEquals æ–¹æ³•å‰é¢åŠ ä¸€ä¸ª string å½“æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™ä¼šè¾“å‡ºè¿™ä¸ªmessage</span></span><br><span class="line">        <span class="comment">//å¯ä»¥è®©æˆ‘ä»¬æ›´æ¸…æ¥šçš„æ˜ç™½æ˜¯ä»€ä¹ˆé—®é¢˜</span></span><br><span class="line">        Assert.assertEquals(<span class="string">"ä½ çš„æ•°å­¦å¤ªçƒ‚äº†"</span>,<span class="number">5</span>,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¦‚æœæŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸æ‰ç®—é€šè¿‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span>(expected = IllegalArgumentException.class)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testVerity</span><span class="params">()</span></span>&#123;</span><br><span class="line">        calculator.verity(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åé€‰ä¸­æ–¹æ³•ç›´æ¥æ‰§è¡Œæ¯”å¦‚ : testCalculatorWithMessage()</p>
<p>é€‰ä¸­Run â€˜testCalculatorWithMessage()â€™ å°±å¯ä»¥çœ‹åˆ°è¾“å‡º (æ§åˆ¶å°ä¸­  Run é¢æ¿)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.lang.AssertionError: ä½ çš„æ•°å­¦å¤ªçƒ‚äº† </span><br><span class="line">Expected :5</span><br><span class="line">Actual   :6</span><br><span class="line"> &lt;Click to see difference&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Android-ä¸­çš„å•å…ƒæµ‹è¯•"><a href="#Android-ä¸­çš„å•å…ƒæµ‹è¯•" class="headerlink" title="Android ä¸­çš„å•å…ƒæµ‹è¯•"></a>Android ä¸­çš„å•å…ƒæµ‹è¯•</h4><p>ä¸Šé¢ç®€å•çš„ä½¿ç”¨ Junit å°±å¯ä»¥æµ‹è¯•Javaä¸­çš„æ–¹æ³•,ä½†æ˜¯ä¸æˆ‘çš„éœ€æ±‚å¹¶ä¸ç¬¦åˆ,æ‰€ä»¥ç»§ç»­çœ‹</p>
<p>ä½¿ç”¨<strong>robolectric</strong></p>
<blockquote>
<p><a href="https://github.com/robolectric/robolectric" target="_blank" rel="noopener">https://github.com/robolectric/robolectric</a></p>
<p><a href="http://robolectric.org/" target="_blank" rel="noopener">http://robolectric.org</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Android-Studio/Android-Studio-ä¸­ä½¿ç”¨tools-sample/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Android-Studio/Android-Studio-ä¸­ä½¿ç”¨tools-sample/" itemprop="url">
                  Android Studio ä¸­ä½¿ç”¨tools:sample
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-02-26 10:31:28 / ä¿®æ”¹æ—¶é—´ï¼š13:42:17" itemprop="dateCreated datePublished" datetime="2018-02-26T10:31:28+08:00">2018-02-26</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android-Studio/" itemprop="url" rel="index"><span itemprop="name">Android Studio</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£</p>
<p><a href="https://developer.android.com/studio/write/tool-attributes.html#toolssample_resources" target="_blank" rel="noopener">https://developer.android.com/studio/write/tool-attributes.html#toolssample_resources</a></p>
</blockquote>
<p>ä»–æ‰€èƒ½è¾¾åˆ°çš„æ•ˆæœå°±æ˜¯,æä¾›ç»™ä½ ä¸€äº›æ•°æ®,å¹¶ç›´æ¥åœ¨ Preview æˆ–è€… Designé¢æ¿ä¸­æŸ¥çœ‹æ ·å¼</p>
<h4 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><p>ä¸å¦‚æ”¾ä¸€ä¸ªå›¾æ¥çš„ç›´è§‚</p>
<p>itemä¸­ä½¿ç”¨ sampleèµ„æº</p>
<p><img src="/images/tools_item.png" alt="item"></p>
<p>å°†itemåŠ å…¥åˆ°listä¸­æŸ¥çœ‹æ•ˆæœ</p>
<p><img src="/images/tools_list.png" alt="list"></p>
<h4 id="å‡†å¤‡ä½¿ç”¨tools"><a href="#å‡†å¤‡ä½¿ç”¨tools" class="headerlink" title="å‡†å¤‡ä½¿ç”¨tools"></a>å‡†å¤‡ä½¿ç”¨tools</h4><h5 id="Android-Studio"><a href="#Android-Studio" class="headerlink" title="Android Studio"></a>Android Studio</h5><p>æ³¨æ„è¦ä½¿ç”¨Android Studio 3.0 + çš„ç‰ˆæœ¬</p>
<h5 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h5><p><code>xmlns:tools=&quot;http://schemas.android.com/tools&quot;</code></p>
<p>ç„¶åå°±å¯ä»¥ä½¿ç”¨toolsçš„ç›¸å…³å±æ€§äº†</p>
<p>åœ¨googleæ–‡æ¡£ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šå…¶ä»–å¯ç”¨çš„,å…·ä½“ä½¿ç”¨æ•ˆæœè¯·è‡ªè¡ŒæŸ¥é˜…æ–‡æ¡£.</p>
<p>å¦‚:</p>
<p><strong>context</strong>   <strong>showIn</strong>  <strong>layout</strong>   <strong>listitem</strong>   <strong>layoutManager</strong>     <strong>itemCount</strong></p>
<p>ä½¿ç”¨æ–¹å¼ä¸º:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:context</span>=<span class="string">"com.wangzhumo.app.tips.page.NearbyFragment"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">com.jcodecraeer.xrecyclerview.XRecyclerView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/recycleview"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:layoutManager</span>=<span class="string">"GridLayoutManager"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:itemCount</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:spanCount</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:listitem</span>=<span class="string">"@layout/nearby_list_item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">com.jcodecraeer.xrecyclerview.XRecyclerView</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å¯ç”¨èµ„æº"><a href="#å¯ç”¨èµ„æº" class="headerlink" title="å¯ç”¨èµ„æº"></a>å¯ç”¨èµ„æº</h4><h5 id="googleå·²æä¾›çš„èµ„æº"><a href="#googleå·²æä¾›çš„èµ„æº" class="headerlink" title="googleå·²æä¾›çš„èµ„æº"></a>googleå·²æä¾›çš„èµ„æº</h5><p><img src="/images/tools_google.png" alt="google"></p>
<p>è¿™äº›èµ„æºå¯ä»¥åœ¨xmlä¸­ç›´æ¥ä½¿ç”¨,ä¹Ÿå¯ä»¥åœ¨è‡ªå®šä¹‰çš„èµ„æºä¸­ä½¿ç”¨</p>
<p>ä½¿ç”¨æ–¹å¼ä¸º:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¿™é‡Œé¢çš„èµ„æºåœ¨</span></span><br><span class="line"><span class="comment">Android Studio/Applications/Android Studio.app/Contents/plugins/android/lib/sampleData/backgrounds/scenic--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:src</span>=<span class="string">"@tools:sample/backgrounds/scenic"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span>    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è¿™ä¸ªæ˜¯ä¸€æ®µå‡æ–‡ç«  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span>      </span></span><br><span class="line"><span class="tag">    <span class="attr">tools:text</span>=<span class="string">"@tools:sample/lorem/random"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TextView</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="è‡ªå®šä¹‰çš„èµ„æº"><a href="#è‡ªå®šä¹‰çš„èµ„æº" class="headerlink" title="è‡ªå®šä¹‰çš„èµ„æº"></a>è‡ªå®šä¹‰çš„èµ„æº</h5><p><img src="/images/tools_new.png" alt="new"></p>
<p>åˆ›å»ºä¸€ä¸ª sampledata æ–‡ä»¶å¤¹</p>
<p><img src="/images/tools_files.png" alt="file"></p>
<ul>
<li><p><code>sampledata/images</code> æ–‡ä»¶ä¸­éƒ½æ˜¯äº›å›¾ç‰‡èµ„æº</p>
</li>
<li><p><code>description</code>æ–‡ä»¶ä¸­æ˜¯æè¿°æ€§æ–‡å­—, æ³¨æ„<strong>æ¯ä¸€è¡Œä¸ºä¸€é¡¹ä¸ªå…ƒç´ </strong></p>
</li>
<li><p><code>hotels</code> ä¹Ÿæ˜¯ä¸€äº›æ–‡å­—,ä¸è¿‡æ˜¯ä¸€äº›é…’åº—åå­—</p>
</li>
<li><p><code>hotel.json</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"data"</span>:[</span><br><span class="line">    &#123;  </span><br><span class="line">      "name":"@sample/hotels",    //è¿™é‡Œä½¿ç”¨çš„æ˜¯è‡ªå·±å®šä¹‰çš„  hotels æ–‡ä»¶ä¸­çš„å­—æ®µ</span><br><span class="line">      "img":"@tools:sample/backgrounds/scenic",</span><br><span class="line">      "desc":"@sample/description"   //è¿™é‡Œä½¿ç”¨çš„æ˜¯è‡ªå·±å®šä¹‰çš„  description æ–‡ä»¶ä¸­çš„å­—æ®µ</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>:<span class="string">"@sample/hotels"</span>,</span><br><span class="line">      "img":"@tools:sample/backgrounds/scenic",  //è¿™é‡Œçš„å°±æ˜¯è‡ªå¸¦çš„èµ„æºäº†</span><br><span class="line">      "desc":"@sample/description"</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>:<span class="string">"@sample/hotels"</span>,</span><br><span class="line">      "img":"@sample/images",  //è¿™ç§å°±æ˜¯/images æ–‡ä»¶ä¸­çš„èµ„æº</span><br><span class="line">      "desc":"@sample/description"</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>:<span class="string">"@sample/hotels"</span>,</span><br><span class="line">      <span class="attr">"img"</span>:<span class="string">"@tools:sample/backgrounds/scenic"</span>,</span><br><span class="line">      <span class="attr">"desc"</span>:<span class="string">"@sample/description"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>:<span class="string">"@sample/hotels"</span>,</span><br><span class="line">      <span class="attr">"img"</span>:<span class="string">"@tools:sample/backgrounds/scenic"</span>,</span><br><span class="line">      <span class="attr">"desc"</span>:<span class="string">"@sample/description"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä½¿ç”¨æ–¹å¼ä¸º:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">	<span class="attr">...</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:text</span>=<span class="string">"@sample/hotels"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">	<span class="attr">...</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:src</span>=<span class="string">"@sample/images"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Android/Androidé¡¹ç›®ä¸­ä½¿ç”¨Timber-Loggeræ—¥å¿—è¾“å‡º/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Android/Androidé¡¹ç›®ä¸­ä½¿ç”¨Timber-Loggeræ—¥å¿—è¾“å‡º/" itemprop="url">
                  Androidé¡¹ç›®ä¸­ä½¿ç”¨Timber + Loggeræ—¥å¿—è¾“å‡º
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-02-07 17:48:58 / ä¿®æ”¹æ—¶é—´ï¼š18:14:43" itemprop="dateCreated datePublished" datetime="2018-02-07T17:48:58+08:00">2018-02-07</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸å•°å—¦äº†,ç›´æ¥å¼€å§‹.</p>
<h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><blockquote>
<p>Logger   <a href="https://github.com/orhanobut/logger" target="_blank" rel="noopener">orhanobut/Logger</a></p>
<p>Timber  <a href="https://github.com/JakeWharton/timber" target="_blank" rel="noopener">JakeWharton/timber</a></p>
</blockquote>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//logger</span></span><br><span class="line">implementation <span class="string">'com.orhanobut:logger:2.1.1'</span></span><br><span class="line"><span class="comment">//timber</span></span><br><span class="line">implementation <span class="string">'com.jakewharton.timber:timber:4.6.0'</span></span><br></pre></td></tr></table></figure>
<h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>æˆ‘æ”¾åœ¨äº†æˆ‘çš„Application.javaä¸­åˆå§‹åŒ–çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * åˆå§‹åŒ–Timber</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initTimber</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     	<span class="comment">//é…ç½®Logger</span></span><br><span class="line">       FormatStrategy formatStrategy = PrettyFormatStrategy.newBuilder()</span><br><span class="line">               .showThreadInfo(<span class="keyword">true</span>)   </span><br><span class="line">               .methodCount(<span class="number">2</span>)</span><br><span class="line">               .methodOffset(<span class="number">7</span>)</span><br><span class="line">               .tag(<span class="string">"MY_LOG"</span>)</span><br><span class="line">               .build();</span><br><span class="line">     	<span class="comment">//é…ç½®Loggeråœ¨Debugæ—¶ä¸æ‰“å°</span></span><br><span class="line">       Logger.addLogAdapter(<span class="keyword">new</span> AndroidLogAdapter(formatStrategy)&#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isLoggable</span><span class="params">(<span class="keyword">int</span> priority, String tag)</span> </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> BuildConfig.DEBUG;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">     	<span class="comment">//ç»™Timberä¸€ä¸ªæ ‘...å¤§ç¥è¿™ä¹ˆæ‰“æ¯”å–»çš„ ğŸ˜†</span></span><br><span class="line">       Timber.plant(<span class="keyword">new</span> Timber.DebugTree()&#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(<span class="keyword">int</span> priority, String tag, </span></span></span><br><span class="line"><span class="function"><span class="params">                              @NotNull String message, Throwable t)</span> </span>&#123;</span><br><span class="line">               Logger.log(priority,tag,message,t);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://github.com/orhanobut/logger/blob/master/art/logger_output.png" alt="logger"></p>
<p>å…¶ä¸­:</p>
<p><code>showThreadInfo(true)</code>  æ˜¯å¦æ˜¾ç¤ºThreadInfo</p>
<p><code>methodCount(2)</code>        æ—¥å¿—è¾“å‡ºæ—¶æ˜¾ç¤ºå‡ è¡Œ</p>
<p><code>methodOffset(7)</code>      æ–¹æ³•åç§»é‡,é»˜è®¤æ˜¯5,è¿™ä¸ªè‡ªå·±è°ƒå¤§,è°ƒå°çœ‹çœ‹å°±æ˜ç™½äº†</p>
<p><code>tag(&quot;MY_LOG&quot;)</code>          è‡ªå®šä¹‰çš„Tag,é»˜è®¤å€¼æ˜¯PRETTY_LOGGER</p>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Timber.e(<span class="string">"ä¸‹è½½çŠ¶æ€å‘ç”Ÿæ”¹å˜ = %s"</span>, downLoadInfo.status )</span><br><span class="line">Timber.e(<span class="string">"ä¸‹è½½è¿›åº¦ = %d"</span>, mBindingView.progressBar.progress )</span><br></pre></td></tr></table></figure>
<p>loggerè´Ÿè´£ç”Ÿæˆmessageçš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">createMessage</span><span class="params">(String message, Object... args)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> args == <span class="keyword">null</span> || args.length == <span class="number">0</span> ? message : String.format(message, args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>String.format(message, args)</code>è¿™å°±èµ‹äºˆäº†æˆ‘ä»¬åœ¨å†™ä¿¡æ¯çš„æ—¶å€™ä½¿ç”¨å ä½ç¬¦.è®°å¾—è¦ç¬¦åˆformatçš„æ ¼å¼å“¦</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å…¶å®æŒ‰æˆ‘ç°åœ¨çš„éœ€æ±‚,Loggerå®Œå…¨ç¬¦åˆæˆ‘,ä¸ºä»€ä¹ˆåŠ ä¸ŠTimberé‚£?</p>
<p>Timberå¯ä»¥åšåˆ°åˆ†å‘,åˆ°æ—¶å€™æˆ‘å¯ä»¥åŠ ä¸Š DiskFileTree  â€¦  ä»€ä¹ˆçš„,æ–¹ä¾¿åæœŸæœ‰å˜åŒ–çš„æ—¶å€™ä¿®æ”¹</p>
<p>ç„¶è€Œ,æˆ‘åœ¨Loggeré‡Œå‘ç°äº†ä¸€ä¸ªç±»</p>
<p><code>com.orhanobut.logger.DiskLogAdapter</code></p>
<p>åŸæ¥å®ƒå·²ç»æ”¯æŒå†™åˆ°æœ¬åœ°äº†.. å®å®å¿ƒé‡Œè‹¦</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Android/Jenkinsæ­å»ºAndroidè‡ªåŠ¨æ‰“åŒ…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Android/Jenkinsæ­å»ºAndroidè‡ªåŠ¨æ‰“åŒ…/" itemprop="url">
                  Jenkinsæ­å»ºAndroidè‡ªåŠ¨æ‰“åŒ…
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-02-05 09:55:44 / ä¿®æ”¹æ—¶é—´ï¼š12:49:03" itemprop="dateCreated datePublished" datetime="2018-02-05T09:55:44+08:00">2018-02-05</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h4><ul>
<li><p>Jenkinsçš„ä¸‹è½½ä¸å®‰è£…</p>
<p><strong>ä¸‹è½½</strong></p>
<blockquote>
<p> <a href="https://jenkins.io/download/" target="_blank" rel="noopener">https://jenkins.io/download/</a></p>
<p> ä¸‹è½½waråŒ…</p>
<p> <a href="http://mirrors.jenkins.io/war-stable/latest/jenkins.war" target="_blank" rel="noopener">Generic Java package (.war)</a></p>
</blockquote>
<p>å› ä¸ºæ‰“ç®—ä½¿ç”¨Tomcatæ¥éƒ¨ç½²,æ‰€ä»¥éœ€è¦ä¸‹è½½waråŒ…,ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…æ–‡ä»¶,ç›´æ¥å®‰è£…</p>
</li>
</ul>
<p>â€‹    <strong>å®‰è£…</strong></p>
<p>â€‹    waråŒ…æ”¾åˆ°<code>./apache-tomcat-7.0.77/webapps</code>    </p>
<p>â€‹    Tomcatçš„wabappsåŒ…ä¸‹å³å¯</p>
<ul>
<li><p>Tomcat (ç•¥)</p>
<p>è®°å¾—é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡,ç­‰ä¼šæ–¹ä¾¿å¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export TOMCAT_HOME=/Users/phyooos/develop/apache-tomcat-7.0.77</span><br><span class="line"></span><br><span class="line">export PATH.....:$TOMCAT/bin</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h4 id="åˆå§‹åŒ–Jenkins"><a href="#åˆå§‹åŒ–Jenkins" class="headerlink" title="åˆå§‹åŒ–Jenkins"></a>åˆå§‹åŒ–Jenkins</h4><ul>
<li><p>å¯åŠ¨Jenkins,å³å¯åŠ¨tomcat</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> startup.sh</span><br><span class="line">Using CATALINA_BASE:   /Users/phyooos/develop/apache-tomcat-7.0.77</span><br><span class="line">Using CATALINA_HOME:   /Users/phyooos/develop/apache-tomcat-7.0.77</span><br><span class="line">Using CATALINA_TMPDIR: /Users/phyooos/develop/apache-tomcat-7.0.77/temp</span><br><span class="line">Using JRE_HOME:        /Library/Java/JavaVirtualMachines/jdk1.8.0/Contents/Home</span><br><span class="line">Using CLASSPATH:       /Users/phyooos/develop/apache-tomcat-7.0.77/bin/bootstrap.jar:/Users/phyooos/develop/apache-tomcat-7.0.77/bin/tomcat-juli.jar</span><br><span class="line">Tomcat started.</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™ä¸ªå°±è¯´æ˜,å·²ç»æ­£å¸¸å¯åŠ¨</p>
</li>
<li><p>è®¿é—®<a href="http://localhost:8080/jenkins/" target="_blank" rel="noopener">http://localhost:8080/jenkins/</a></p>
<p>æ‰“å¼€åéœ€è¦è¾“å…¥ä¸€ä¸ªå¯†é’¥,macçš„åœ¨<code>jenkins/secrets/initialAdminPassword</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~ âŒš 10:11:03</span><br><span class="line"><span class="meta">$</span> cat ~/.jenkins/secrets/initialAdminPassword</span><br><span class="line">55ad44431f6d4ebdb53a7c1971d12df4</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ­¤å¯†é’¥å³å¯.</p>
</li>
<li><p>åˆ›å»ºç”¨æˆ·</p>
</li>
</ul>
<h4 id="é…ç½®Jenkins"><a href="#é…ç½®Jenkins" class="headerlink" title="é…ç½®Jenkins"></a>é…ç½®Jenkins</h4><h5 id="1-å®‰è£…æ’ä»¶"><a href="#1-å®‰è£…æ’ä»¶" class="headerlink" title="1.å®‰è£…æ’ä»¶"></a>1.å®‰è£…æ’ä»¶</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">Build Timeout</span><br><span class="line"></span><br><span class="line">build-name-setter</span><br><span class="line"></span><br><span class="line">Credentials Binding Plugin</span><br><span class="line"></span><br><span class="line">description setter plugin</span><br><span class="line"></span><br><span class="line">Dynamic Parameter Plug-in(è¿™ä¸ªæ’ä»¶,æœä¸åˆ°äº†,å› ä¸ºå®‰å…¨é—®é¢˜è¢«å±è”½äº†)</span><br><span class="line"></span><br><span class="line">Environment Injector Plugin</span><br><span class="line"></span><br><span class="line">Git plugin</span><br><span class="line"></span><br><span class="line">GitHub Branch Source Plugin</span><br><span class="line">	</span><br><span class="line">Gitlab Authentication plugin</span><br><span class="line"></span><br><span class="line">GitLab Plugin</span><br><span class="line"></span><br><span class="line">Gradle Plugin</span><br><span class="line"></span><br><span class="line">Pipeline</span><br><span class="line"></span><br><span class="line">SSH Slaves plugin</span><br><span class="line">	</span><br><span class="line">SSH plugin</span><br><span class="line">	</span><br><span class="line">Timestamper</span><br><span class="line">	</span><br><span class="line">Upload to pgyer(ä¸Šä¼ åˆ°è’²å…¬è‹±,æ²¡æœ‰éœ€è¦çš„ä¸ç”¨å®‰è£…)</span><br><span class="line">	</span><br><span class="line">Workspace Cleanup Plugin</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ’ä»¶,æ˜¯å¸¸ç”¨çš„æ’ä»¶,å°½é‡å…¨éƒ¨å®‰è£…</p>
<h5 id="2-é…ç½®ç¯å¢ƒå˜é‡"><a href="#2-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="2.é…ç½®ç¯å¢ƒå˜é‡"></a>2.é…ç½®ç¯å¢ƒå˜é‡</h5><p><strong>ç³»ç»Ÿç®¡ç† - å…¨å±€å·¥å…·é…ç½®</strong></p>
<p>éœ€è¦é…ç½®</p>
<p>Java</p>
<p><img src="/images/jenkins_java.png" alt="Java"></p>
<p>Git</p>
<p><img src="/images/jenkins_git.png" alt="Git"></p>
<p>Gradle</p>
<p><img src="/images/jenkins_gradle.png" alt="Gradle"></p>
<p>é…ç½®å¥½ä¿å­˜å³å¯</p>
<p><strong>ç³»ç»Ÿç®¡ç† - ç³»ç»Ÿè®¾ç½®</strong></p>
<p>è®°å¾—é…ç½®gitlabæˆ–è€… githubè´¦å·</p>
<h5 id="3-åˆå§‹åŒ–é¡¹ç›®"><a href="#3-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="3.åˆå§‹åŒ–é¡¹ç›®"></a>3.åˆå§‹åŒ–é¡¹ç›®</h5><p>åˆ›å»ºé¡¹ç›®</p>
<p><img src="/images/jenkins_init.png" alt="init"></p>
<hr>
<p><strong>General</strong></p>
<p>é€‰æ‹©å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹</p>
<p>IS_JENKINS  æ˜¯å¦Jenkinsæ‰“åŒ…,è¿™é‡Œè‚¯å®šæ˜¯ä¸€ç›´trueçš„</p>
<p>PRODUCT_FLAVORS  ç¯å¢ƒ</p>
<p>BUILD_TYPE  æ„å»ºç‰ˆæœ¬</p>
<p>VERSION_NAME ç‰ˆæœ¬åå­—</p>
<p>JENKINS_OUTPUT Apkç”Ÿæˆç›®å½•</p>
<p>JENKINS_TIME  æ—¶é—´æˆ³</p>
<p><img src="/images/jenkins_init1.png" alt="General"></p>
<p><img src="/images/jenkins_init2.png" alt="General"></p>
<p><img src="/images/jenkins_init3.png" alt="General"></p>
<p>è¿™äº›å‚æ•°å®šä¹‰å®Œå°±å¯ä»¥ä½¿ç”¨äº† ${å‚æ•°å} çš„å½¢å¼,è¿™äº›å‚æ•°ä¼šå†™å…¥åˆ° Appé¡¹ç›®ä¸­çš„ gradle.propertiesæ–‡ä»¶</p>
<p>Appé¡¹ç›®ä¸­çš„ gradle.propertiesæ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># When configured, Gradle will run in incubating parallel mode.</span><br><span class="line"># This option should only be used with decoupled projects. More details, visit</span><br><span class="line"># http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects</span><br><span class="line"># org.gradle.parallel=true</span><br><span class="line">org.gradle.jvmargs=-Xmx4608M</span><br><span class="line"></span><br><span class="line">VERSION_NAME=<span class="number">1.4</span>.0</span><br><span class="line">VERSION_CODE=<span class="number">12</span></span><br><span class="line">IS_JENKINS=<span class="keyword">false</span></span><br><span class="line">JENKINS_OUTPUT=<span class="string">'output/'</span></span><br><span class="line">JENKINS_TIME=<span class="string">'201802021231'</span></span><br></pre></td></tr></table></figure>
<hr>
<p>è¿›å…¥ä¸‹ä¸€ä¸ªé…ç½®é¡µé¢,åˆ°<strong>æºç ç®¡ç†</strong>é‚£å—</p>
<p><img src="/images/jenkins_gitlab.png" alt="gitlab"></p>
<p>åªè¦ä½ èƒ½ä¸‹è½½åˆ°æºç å³å¯,æ— æ‰€è°“éè¦å’Œæˆ‘è¿™ä¸ªä¸€è‡´,branch  å°±æ˜¯æŒ‡å®šåˆ†æ”¯äº†,æˆ‘è¿™å„¿æ˜¯  dev åˆ†æ”¯</p>
<hr>
<p>ä¸‹ä¸€ä¸ªé…ç½®<strong>æ„å»º</strong></p>
<p><img src="/images/jenkins_build.png" alt="build"></p>
<p>é€‰æ‹© Invoke Gradle </p>
<p>Tasks é‡Œé¢çš„å‘½ä»¤,æˆ‘æ¥è§£é‡Šä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#æ¸…ç†</span><br><span class="line">clean  </span><br><span class="line">#æ‰“åŒ…</span><br><span class="line">assemble$&#123;PRODUCT_FLAVORS&#125;$&#123;BUILD_TYPE&#125;</span><br><span class="line">#è¿™é‡Œçš„æ„æ€æ˜¯ æ‰“åŒ…æŒ‡å®šçš„ä¸€ä¸ªFLAVORç‰ˆæœ¬(Release + ç‰ˆæœ¬)</span><br><span class="line">#å…³äºassemble ...  çš„,è¯·æœ gradle æ‰“åŒ…å‘½ä»¤</span><br><span class="line"></span><br><span class="line">#å…¶ä»–å‚æ•°</span><br><span class="line">-PVERSION_NAME=$&#123;VERSION_NAME&#125;</span><br><span class="line">-PVERSION_CODE=$&#123;VERSION_CODE&#125;</span><br><span class="line">-PJENKINS_OUTPUT=$&#123;JENKINS_OUTPUT&#125;</span><br><span class="line">-PJENKINS_TIME=$&#123;JENKINS_TIME&#125;</span><br><span class="line">-PIS_JENKINS=$&#123;IS_JENKINS&#125;</span><br><span class="line"></span><br><span class="line">#-Pæ„å‘³ç€å‚æ•°</span><br><span class="line">#-Påé¢æ˜¯å‚æ•°å</span><br><span class="line">#=$&#123;&#125; åˆ™ä¸ºå‚æ•°å€¼,å°±æ˜¯ä¸Šé¢Generalé‡Œé¢é…ç½®çš„</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>æ„å»ºåæ“ä½œ</strong></p>
<p><img src="/images/jenkins_pgy.png" alt="pgy"></p>
<blockquote>
<p>å‚è€ƒ <a href="https://www.pgyer.com/doc/view/jenkins_plugin" target="_blank" rel="noopener">https://www.pgyer.com/doc/view/jenkins_plugin</a></p>
</blockquote>
<p>ä¿å­˜å³å¯</p>
<h5 id="æ”¹é€ App"><a href="#æ”¹é€ App" class="headerlink" title="æ”¹é€ App"></a>æ”¹é€ App</h5><ul>
<li>./gradle.propertiesæ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">VERSION_NAME=1.4.0</span><br><span class="line">VERSION_CODE=12</span><br><span class="line">IS_JENKINS=false</span><br><span class="line">JENKINS_OUTPUT=&apos;output/&apos;</span><br><span class="line">JENKINS_TIME=&apos;201802021231&apos;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ–‡ä»¶,å†™å®Œè¯·buildä¸€æ¬¡,ä¾¿äºbuild.gradleä¸­ä½¿ç”¨</p>
<p>ä½¿ç”¨jenkinsæ—¶,jenkinsä¼šæŠŠå®šä¹‰çš„å€¼æ³¨å…¥åˆ°è¿™é‡Œ,è¦†ç›–è¿™é‡Œå®šä¹‰çš„å€¼</p>
<ul>
<li>app/build.gradle</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">android&#123;</span><br><span class="line"></span><br><span class="line">	defaultConfig &#123;</span><br><span class="line">    	...</span><br><span class="line">    	<span class="comment">//æ­¤å¤„ä½¿ç”¨gradle.propertiesä¸­çš„å€¼   VERSION_CODEå’ŒVERSION_NAME</span></span><br><span class="line">    	versionCode VERSION_CODE <span class="keyword">as</span> Integer</span><br><span class="line">    	versionName VERSION_NAME</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//è‡ªå®šä¹‰apkåå­—</span></span><br><span class="line">    android.applicationVariants.all &#123; variant -&gt;</span><br><span class="line">    	<span class="comment">//è·å–æ—¶é—´æˆ³</span></span><br><span class="line">        <span class="keyword">def</span> timeNow = getDate()</span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯IS_JENKINSæ„å»º,åˆ™ä¿®æ”¹æ‰“åŒ…apkçš„ç›®å½•</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'true'</span>.equals(IS_JENKINS)) &#123;</span><br><span class="line">        	<span class="comment">//ä½¿ç”¨JENKINS_OUTPUTçš„ç›®å½•</span></span><br><span class="line">            <span class="keyword">def</span> outputFile = JENKINS_OUTPUT</span><br><span class="line">            <span class="comment">//ä½¿ç”¨JENKINS_TIMEçš„æ—¶é—´æˆ³</span></span><br><span class="line">            timeNow = JENKINS_TIME</span><br><span class="line">            <span class="comment">//å®šä¹‰apkç›®å½•</span></span><br><span class="line">            variant.getPackageApplication().outputDirectory = <span class="keyword">new</span> File(outputFile)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        variant.getPackageApplication().outputScope.apkDatas.forEach &#123; apkData -&gt;</span><br><span class="line">            <span class="comment">//è¿™ä¸ªä¿®æ”¹è¾“å‡ºAPKçš„æ–‡ä»¶å</span></span><br><span class="line">            apkData.outputFileName = <span class="string">"ä¸€å·è½¦å¸‚_$&#123;variant.versionName&#125;_$&#123;timeNow&#125;.apk"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	flavorDimensions <span class="string">'env'</span></span><br><span class="line"></span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        envapp &#123;</span><br><span class="line">            dimension <span class="string">'env'</span></span><br><span class="line">            <span class="comment">//æ­¤å¤„ä½¿ç”¨jenkinsä¼ çš„VERSION_NAME</span></span><br><span class="line">            versionName VERSION_NAME</span><br><span class="line">            manifestPlaceholders = [<span class="string">UMENG_CHANNEL_VALUE:</span> <span class="string">"app"</span>]</span><br><span class="line">            buildConfigField <span class="string">"String"</span>, <span class="string">"SERVER_HOST"</span>, <span class="string">'"https://app.wangzhumo.com/"'</span></span><br><span class="line">        &#125;</span><br><span class="line">        envtest &#123;</span><br><span class="line">            dimension <span class="string">'env'</span></span><br><span class="line">            <span class="comment">//ä¸ºäº†æ–¹ä¾¿æµ‹è¯•çœ‹å‡ºå½“å‰appç¯å¢ƒ,å°±ä¸ç”¨VERSION_NAMEäº†</span></span><br><span class="line">            versionName <span class="string">"Test"</span></span><br><span class="line">            manifestPlaceholders = [<span class="string">UMENG_CHANNEL_VALUE:</span> <span class="string">"app"</span>]</span><br><span class="line">            buildConfigField <span class="string">"String"</span>, <span class="string">"SERVER_HOST"</span>, <span class="string">'"http://app-test.wangzhumo.com/"'</span></span><br><span class="line">        &#125;</span><br><span class="line">        envpre &#123;</span><br><span class="line">            dimension <span class="string">'env'</span></span><br><span class="line">            versionName <span class="string">"Pre"</span></span><br><span class="line">            manifestPlaceholders = [<span class="string">UMENG_CHANNEL_VALUE:</span> <span class="string">"app"</span>]</span><br><span class="line">            buildConfigField <span class="string">"String"</span>, <span class="string">"SERVER_HOST"</span>, <span class="string">'"https://app-pre.wangzhumo.com/"'</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        envdev &#123;</span><br><span class="line">            dimension <span class="string">'env'</span></span><br><span class="line">            versionName <span class="string">"Dev"</span></span><br><span class="line">            manifestPlaceholders = [<span class="string">UMENG_CHANNEL_VALUE:</span> <span class="string">"app"</span>]</span><br><span class="line">            buildConfigField <span class="string">"String"</span>, <span class="string">"SERVER_HOST"</span>, <span class="string">'"http://192.168.1.16:8080/app2c/"'</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å…¶å®UMENG_CHANNEL_VALUE    SERVER_HOST   ä¹Ÿéƒ½å¯ä»¥ä½¿ç”¨jenkinså®šä¹‰å‚æ•°,å¹¶ä½¿ç”¨</span></span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¸€ä¸ªè·å–æ—¶é—´æˆ³çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">def</span> getDate() &#123;</span><br><span class="line">    	<span class="keyword">def</span> date = <span class="keyword">new</span> Date()</span><br><span class="line">    	<span class="keyword">def</span> formattedDate = date.format(<span class="string">'yyyyMMddHHmm'</span>)</span><br><span class="line">    	<span class="keyword">return</span> formattedDate</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®°å¾—æ”¹å®Œapp,ä¸Šä¼ ä»£ç å“¦</p>
<h4 id="Jenkinsæ‰“åŒ…"><a href="#Jenkinsæ‰“åŒ…" class="headerlink" title="Jenkinsæ‰“åŒ…"></a>Jenkinsæ‰“åŒ…</h4><p><img src="/images/jenkins_go.png" alt="æ‰“åŒ…"></p>
<p>OKäº†,å¯ä»¥æ„‰å¿«çš„æ‰“åŒ…äº†,æ‰“åŒ…å®Œå°±ä¼šè‡ªåŠ¨ä¸Šä¼ åˆ°è’²å…¬è‹±.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Java/Javaä¸­String-format-çš„ä½¿ç”¨æŒ‡åŒ—/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Java/Javaä¸­String-format-çš„ä½¿ç”¨æŒ‡åŒ—/" itemprop="url">
                  Javaä¸­String.format()çš„ä½¿ç”¨æŒ‡åŒ—
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-02-04 18:16:12" itemprop="dateCreated datePublished" datetime="2018-02-04T18:16:12+08:00">2018-02-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-02-07 18:27:47" itemprop="dateModified" datetime="2018-02-07T18:27:47+08:00">2018-02-07</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ¬æ–‡éåŸåˆ›,æ¥è‡ª<a href="http://blog.csdn.net/lonely_fireworks/article/details/7962171/" target="_blank" rel="noopener">http://blog.csdn.net/lonely_fireworks/article/details/7962171/</a></p>
<p>è¿™é‡Œåšä¸€ä¸ªå¤‡ä»½,æ–¹ä¾¿éšæ—¶æŸ¥è¯¢</p>
</blockquote>
<h4 id="å¸¸è§„ç±»å‹çš„æ ¼å¼åŒ–"><a href="#å¸¸è§„ç±»å‹çš„æ ¼å¼åŒ–" class="headerlink" title="å¸¸è§„ç±»å‹çš„æ ¼å¼åŒ–"></a>å¸¸è§„ç±»å‹çš„æ ¼å¼åŒ–</h4><p>Stringç±»çš„format()æ–¹æ³•ç”¨äºåˆ›å»ºæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ä»¥åŠè¿æ¥å¤šä¸ªå­—ç¬¦ä¸²å¯¹è±¡,format()æ–¹æ³•æœ‰ä¸¤ç§é‡è½½å½¢å¼ã€‚</p>
<ul>
<li><p>format(String format, Objectâ€¦ args) </p>
<p>æ–°å­—ç¬¦ä¸²ä½¿ç”¨æœ¬åœ°è¯­è¨€ç¯å¢ƒï¼Œåˆ¶å®šå­—ç¬¦ä¸²æ ¼å¼å’Œå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„æ–°å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>format(Locale locale, String format, Objectâ€¦ args) </p>
<p>ä½¿ç”¨æŒ‡å®šçš„è¯­è¨€ç¯å¢ƒï¼Œåˆ¶å®šå­—ç¬¦ä¸²æ ¼å¼å’Œå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
</ul>
<h5 id="æ˜¾ç¤ºä¸åŒè½¬æ¢ç¬¦å®ç°ä¸åŒæ•°æ®ç±»å‹åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚"><a href="#æ˜¾ç¤ºä¸åŒè½¬æ¢ç¬¦å®ç°ä¸åŒæ•°æ®ç±»å‹åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚" class="headerlink" title="æ˜¾ç¤ºä¸åŒè½¬æ¢ç¬¦å®ç°ä¸åŒæ•°æ®ç±»å‹åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚"></a>æ˜¾ç¤ºä¸åŒè½¬æ¢ç¬¦å®ç°ä¸åŒæ•°æ®ç±»å‹åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</h5><table>
<thead>
<tr>
<th>è½¬  æ¢  ç¬¦</th>
<th>è¯´    æ˜</th>
<th>ç¤º    ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>%s</td>
<td>å­—ç¬¦ä¸²ç±»å‹</td>
<td>â€œmingrisoftâ€</td>
</tr>
<tr>
<td>%c</td>
<td>å­—ç¬¦ç±»å‹</td>
<td>â€˜mâ€™</td>
</tr>
<tr>
<td>%b</td>
<td>å¸ƒå°”ç±»å‹</td>
<td>true</td>
</tr>
<tr>
<td>%d</td>
<td>æ•´æ•°ç±»å‹ï¼ˆåè¿›åˆ¶ï¼‰</td>
<td>99</td>
</tr>
<tr>
<td>%x</td>
<td>æ•´æ•°ç±»å‹ï¼ˆåå…­è¿›åˆ¶ï¼‰</td>
<td>FF</td>
</tr>
<tr>
<td>%o</td>
<td>æ•´æ•°ç±»å‹ï¼ˆå…«è¿›åˆ¶ï¼‰</td>
<td>77</td>
</tr>
<tr>
<td>%f</td>
<td>æµ®ç‚¹ç±»å‹</td>
<td>99.99</td>
</tr>
<tr>
<td>%a</td>
<td>åå…­è¿›åˆ¶æµ®ç‚¹ç±»å‹</td>
<td>FF.35AE</td>
</tr>
<tr>
<td>%e</td>
<td>æŒ‡æ•°ç±»å‹</td>
<td>9.38e+5</td>
</tr>
<tr>
<td>%g</td>
<td>é€šç”¨æµ®ç‚¹ç±»å‹ï¼ˆfå’Œeç±»å‹ä¸­è¾ƒçŸ­çš„ï¼‰</td>
<td></td>
</tr>
<tr>
<td>%h</td>
<td>æ•£åˆ—ç </td>
<td></td>
</tr>
<tr>
<td>%%</td>
<td>ç™¾åˆ†æ¯”ç±»å‹</td>
<td>ï¼…</td>
</tr>
<tr>
<td>%n</td>
<td>æ¢è¡Œç¬¦</td>
<td></td>
</tr>
<tr>
<td>%tx</td>
<td>æ—¥æœŸä¸æ—¶é—´ç±»å‹ï¼ˆxä»£è¡¨ä¸åŒçš„æ—¥æœŸä¸æ—¶é—´è½¬æ¢ç¬¦</td>
</tr>
</tbody>
</table>
<p>æµ‹è¯•ç”¨ä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str=<span class="keyword">null</span>;</span><br><span class="line">    str=String.format(<span class="string">"Hi,%s"</span>, <span class="string">"ç‹åŠ›"</span>);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">    str=String.format(<span class="string">"Hi,%s:%s.%s"</span>, <span class="string">"ç‹å—"</span>,<span class="string">"ç‹åŠ›"</span>,<span class="string">"ç‹å¼ "</span>);          </span><br><span class="line">    System.out.println(str);                         </span><br><span class="line">    System.out.printf(<span class="string">"å­—æ¯açš„å¤§å†™æ˜¯ï¼š%c %n"</span>, <span class="string">'A'</span>);</span><br><span class="line">    System.out.printf(<span class="string">"3&gt;7çš„ç»“æœæ˜¯ï¼š%b %n"</span>, <span class="number">3</span>&gt;<span class="number">7</span>);</span><br><span class="line">    System.out.printf(<span class="string">"100çš„ä¸€åŠæ˜¯ï¼š%d %n"</span>, <span class="number">100</span>/<span class="number">2</span>);</span><br><span class="line">    System.out.printf(<span class="string">"100çš„16è¿›åˆ¶æ•°æ˜¯ï¼š%x %n"</span>, <span class="number">100</span>);</span><br><span class="line">    System.out.printf(<span class="string">"100çš„8è¿›åˆ¶æ•°æ˜¯ï¼š%o %n"</span>, <span class="number">100</span>);</span><br><span class="line">    System.out.printf(<span class="string">"50å…ƒçš„ä¹¦æ‰“8.5æŠ˜æ‰£æ˜¯ï¼š%f å…ƒ%n"</span>, <span class="number">50</span>*<span class="number">0.85</span>);</span><br><span class="line">    System.out.printf(<span class="string">"ä¸Šé¢ä»·æ ¼çš„16è¿›åˆ¶æ•°æ˜¯ï¼š%a %n"</span>, <span class="number">50</span>*<span class="number">0.85</span>);</span><br><span class="line">    System.out.printf(<span class="string">"ä¸Šé¢ä»·æ ¼çš„æŒ‡æ•°è¡¨ç¤ºï¼š%e %n"</span>, <span class="number">50</span>*<span class="number">0.85</span>);</span><br><span class="line">    System.out.printf(<span class="string">"ä¸Šé¢ä»·æ ¼çš„æŒ‡æ•°å’Œæµ®ç‚¹æ•°ç»“æœçš„é•¿åº¦è¾ƒçŸ­çš„æ˜¯ï¼š%g %n"</span>, <span class="number">50</span>*<span class="number">0.85</span>);</span><br><span class="line">    System.out.printf(<span class="string">"ä¸Šé¢çš„æŠ˜æ‰£æ˜¯%d%% %n"</span>, <span class="number">85</span>);</span><br><span class="line">    System.out.printf(<span class="string">"å­—æ¯Açš„æ•£åˆ—ç æ˜¯ï¼š%h %n"</span>, <span class="string">'A'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Hi,ç‹åŠ›</span><br><span class="line">Hi,ç‹å—:ç‹åŠ›.ç‹å¼ </span><br><span class="line">å­—æ¯açš„å¤§å†™æ˜¯ï¼šA </span><br><span class="line"><span class="number">3</span>&gt;<span class="number">7</span>çš„ç»“æœæ˜¯ï¼š<span class="keyword">false</span> </span><br><span class="line"><span class="number">100</span>çš„ä¸€åŠæ˜¯ï¼š<span class="number">50</span> </span><br><span class="line"><span class="number">100</span>çš„<span class="number">16</span>è¿›åˆ¶æ•°æ˜¯ï¼š<span class="number">64</span> </span><br><span class="line"><span class="number">100</span>çš„<span class="number">8</span>è¿›åˆ¶æ•°æ˜¯ï¼š<span class="number">144</span> </span><br><span class="line"><span class="number">50</span>å…ƒçš„ä¹¦æ‰“<span class="number">8.5</span>æŠ˜æ‰£æ˜¯ï¼š<span class="number">42.500000</span> å…ƒ</span><br><span class="line">ä¸Šé¢ä»·æ ¼çš„<span class="number">16</span>è¿›åˆ¶æ•°æ˜¯ï¼š<span class="number">0x1</span>.54p5 </span><br><span class="line">ä¸Šé¢ä»·æ ¼çš„æŒ‡æ•°è¡¨ç¤ºï¼š<span class="number">4.250000e+01</span> </span><br><span class="line">ä¸Šé¢ä»·æ ¼çš„æŒ‡æ•°å’Œæµ®ç‚¹æ•°ç»“æœçš„é•¿åº¦è¾ƒçŸ­çš„æ˜¯ï¼š<span class="number">42.5000</span> </span><br><span class="line">ä¸Šé¢çš„æŠ˜æ‰£æ˜¯<span class="number">85</span>% </span><br><span class="line">å­—æ¯Açš„æ•£åˆ—ç æ˜¯ï¼š<span class="number">41</span></span><br></pre></td></tr></table></figure>
<h5 id="æ­é…è½¬æ¢ç¬¦çš„æ ‡å¿—"><a href="#æ­é…è½¬æ¢ç¬¦çš„æ ‡å¿—" class="headerlink" title="æ­é…è½¬æ¢ç¬¦çš„æ ‡å¿—"></a>æ­é…è½¬æ¢ç¬¦çš„æ ‡å¿—</h5><table>
<thead>
<tr>
<th>æ ‡    å¿—</th>
<th>è¯´    æ˜</th>
<th>ç¤º    ä¾‹</th>
<th>ç»“    æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>ä¸ºæ­£æ•°æˆ–è€…è´Ÿæ•°æ·»åŠ ç¬¦å·</td>
<td>(â€œ%+dâ€,15)</td>
<td>+15</td>
</tr>
<tr>
<td>âˆ’</td>
<td>å·¦å¯¹é½</td>
<td>(â€œ%-5dâ€,15)</td>
<td>\</td>
<td>15   \</td>
<td></td>
</tr>
<tr>
<td>0</td>
<td>æ•°å­—å‰é¢è¡¥0</td>
<td>(â€œ%04dâ€, 99)</td>
<td>0099</td>
</tr>
<tr>
<td>ç©ºæ ¼</td>
<td>åœ¨æ•´æ•°ä¹‹å‰æ·»åŠ æŒ‡å®šæ•°é‡çš„ç©ºæ ¼</td>
<td>(â€œ% 4dâ€, 99)</td>
<td>\</td>
<td>99\</td>
<td></td>
</tr>
<tr>
<td>,</td>
<td>ä»¥â€œ,â€å¯¹æ•°å­—åˆ†ç»„</td>
<td>(â€œ%,fâ€, 9999.99)</td>
<td>9,999.990000</td>
</tr>
<tr>
<td>(</td>
<td>ä½¿ç”¨æ‹¬å·åŒ…å«è´Ÿæ•°</td>
<td>(â€œ%(fâ€, -99.99)</td>
<td>(99.990000)</td>
</tr>
<tr>
<td>#</td>
<td>å¦‚æœæ˜¯æµ®ç‚¹æ•°åˆ™åŒ…å«å°æ•°ç‚¹ï¼Œå¦‚æœæ˜¯16è¿›åˆ¶æˆ–8è¿›åˆ¶åˆ™æ·»åŠ 0xæˆ–0</td>
<td>(â€œ%#xâ€, 99)(â€œ%#oâ€, 99)</td>
<td>0x630143</td>
</tr>
<tr>
<td>&lt;</td>
<td>æ ¼å¼åŒ–å‰ä¸€ä¸ªè½¬æ¢ç¬¦æ‰€æè¿°çš„å‚æ•°</td>
<td>(â€œ%få’Œ%&lt;3.2fâ€, 99.45)</td>
<td>99.450000å’Œ99.45</td>
</tr>
<tr>
<td>$</td>
<td>è¢«æ ¼å¼åŒ–çš„å‚æ•°ç´¢å¼•</td>
<td>(â€œ%1$d,%2$sâ€, 99,â€abcâ€)</td>
<td>99,abc</td>
</tr>
</tbody>
</table>
<p>æµ‹è¯•ç”¨ä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line"></span><br><span class="line">    String str=<span class="keyword">null</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//$ä½¿ç”¨  </span></span><br><span class="line">    str=String.format(<span class="string">"æ ¼å¼å‚æ•°çš„ä½¿ç”¨ï¼š%1d,%2$s"</span>, <span class="number">99</span>,<span class="string">"abc"</span>);             </span><br><span class="line">    System.out.println(str);                       </span><br><span class="line">   	</span><br><span class="line">   	<span class="comment">//+ä½¿ç”¨  </span></span><br><span class="line">    System.out.printf(<span class="string">"æ˜¾ç¤ºæ­£è´Ÿæ•°çš„ç¬¦å·ï¼š%+dä¸%d%n"</span>, <span class="number">99</span>,-<span class="number">99</span>);  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¥Oä½¿ç”¨  </span></span><br><span class="line">    System.out.printf(<span class="string">"æœ€ç‰›çš„ç¼–å·æ˜¯ï¼š%03d%n"</span>, <span class="number">7</span>);  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºæ ¼ä½¿ç”¨  </span></span><br><span class="line">    System.out.printf(<span class="string">"Tabé”®çš„æ•ˆæœæ˜¯ï¼š% 8d%n"</span>, <span class="number">7</span>);  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//.ä½¿ç”¨  </span></span><br><span class="line">    System.out.printf(<span class="string">"æ•´æ•°åˆ†ç»„çš„æ•ˆæœæ˜¯ï¼š%,d%n"</span>, <span class="number">9989997</span>);  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºæ ¼å’Œå°æ•°ç‚¹åé¢ä¸ªæ•°  </span></span><br><span class="line">    System.out.printf(<span class="string">"ä¸€æœ¬ä¹¦çš„ä»·æ ¼æ˜¯ï¼š% 50.5få…ƒ%n"</span>, <span class="number">49.8</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ ¼å¼å‚æ•°$çš„ä½¿ç”¨ï¼š<span class="number">99</span>,abc</span><br><span class="line">æ˜¾ç¤ºæ­£è´Ÿæ•°çš„ç¬¦å·ï¼š+<span class="number">99</span>ä¸-<span class="number">99</span></span><br><span class="line">æœ€ç‰›çš„ç¼–å·æ˜¯ï¼š<span class="number">007</span></span><br><span class="line">Tabé”®çš„æ•ˆæœæ˜¯ï¼š       <span class="number">7</span></span><br><span class="line">æ•´æ•°åˆ†ç»„çš„æ•ˆæœæ˜¯ï¼š<span class="number">9</span>,<span class="number">989</span>,<span class="number">997</span></span><br><span class="line">ä¸€æœ¬ä¹¦çš„ä»·æ ¼æ˜¯ï¼š <span class="number">49.80000</span>å…ƒ</span><br></pre></td></tr></table></figure>
<h4 id="æ—¥æœŸå’Œäº‹ä»¶å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#æ—¥æœŸå’Œäº‹ä»¶å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="æ—¥æœŸå’Œäº‹ä»¶å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>æ—¥æœŸå’Œäº‹ä»¶å­—ç¬¦ä¸²æ ¼å¼åŒ–</h4><p>å­—ç¬¦ä¸²æ ¼å¼ä¸­è¿˜æœ‰%txè½¬æ¢ç¬¦æ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶ é—´çš„ã€‚%txè½¬æ¢ç¬¦ä¸­çš„xä»£è¡¨å¦å¤–çš„å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ ¼å¼çš„è½¬æ¢ç¬¦ï¼Œå®ƒä»¬çš„ç»„åˆèƒ½å¤Ÿå°†æ—¥æœŸå’Œæ—¶é—´æ ¼å¼åŒ–æˆå¤šç§æ ¼å¼ã€‚</p>
<h5 id="å¸¸è§æ—¥æœŸå’Œæ—¶é—´ç»„åˆçš„æ ¼å¼"><a href="#å¸¸è§æ—¥æœŸå’Œæ—¶é—´ç»„åˆçš„æ ¼å¼" class="headerlink" title="å¸¸è§æ—¥æœŸå’Œæ—¶é—´ç»„åˆçš„æ ¼å¼"></a>å¸¸è§æ—¥æœŸå’Œæ—¶é—´ç»„åˆçš„æ ¼å¼</h5><table>
<thead>
<tr>
<th>è½¬  æ¢  ç¬¦</th>
<th>è¯´    æ˜</th>
<th>ç¤º    ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>åŒ…æ‹¬å…¨éƒ¨æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯</td>
<td>æ˜ŸæœŸå…­ åæœˆ 27 14:21:20 CST 2007</td>
</tr>
<tr>
<td>F</td>
<td>â€œå¹´-æœˆ-æ—¥â€æ ¼å¼</td>
<td>2007-10-27</td>
</tr>
<tr>
<td>D</td>
<td>â€œæœˆ/æ—¥/å¹´â€æ ¼å¼</td>
<td>10/27/07</td>
</tr>
<tr>
<td>r</td>
<td>â€œHH:MM:SS PMâ€æ ¼å¼ï¼ˆ12æ—¶åˆ¶ï¼‰</td>
<td>02:25:51 ä¸‹åˆ</td>
</tr>
<tr>
<td>T</td>
<td>â€œHH:MM:SSâ€æ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰</td>
<td>14:28:16</td>
</tr>
<tr>
<td>R</td>
<td>â€œHH:MMâ€æ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰</td>
<td>14:28</td>
</tr>
</tbody>
</table>
<p>æµ‹è¯•ç”¨ä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Date date=<span class="keyword">new</span> Date();                                </span><br><span class="line">	<span class="comment">//cçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"å…¨éƒ¨æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯ï¼š%tc%n"</span>,date);        </span><br><span class="line">	<span class="comment">//fçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"å¹´-æœˆ-æ—¥æ ¼å¼ï¼š%tF%n"</span>,date);</span><br><span class="line">	<span class="comment">//dçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"æœˆ/æ—¥/å¹´æ ¼å¼ï¼š%tD%n"</span>,date);</span><br><span class="line">	<span class="comment">//rçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"HH:MM:SS PMæ ¼å¼ï¼ˆ12æ—¶åˆ¶ï¼‰ï¼š%tr%n"</span>,date);</span><br><span class="line">	<span class="comment">//tçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"HH:MM:SSæ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰ï¼š%tT%n"</span>,date);</span><br><span class="line">	<span class="comment">//Rçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"HH:MMæ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰ï¼š%tR"</span>,date);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å…¨éƒ¨æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯ï¼šæ˜ŸæœŸä¸€ ä¹æœˆ 10 10:43:36 CST 2012</span><br><span class="line">å¹´-æœˆ-æ—¥æ ¼å¼ï¼š2012-09-10</span><br><span class="line">æœˆ/æ—¥/å¹´æ ¼å¼ï¼š09/10/12</span><br><span class="line">HH:MM:SS PMæ ¼å¼ï¼ˆ12æ—¶åˆ¶ï¼‰ï¼š10:43:36 ä¸Šåˆ</span><br><span class="line">HH:MM:SSæ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰ï¼š10:43:36</span><br><span class="line">HH:MMæ ¼å¼ï¼ˆ24æ—¶åˆ¶ï¼‰ï¼š10:43</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰æ—¥æœŸæ ¼å¼çš„è½¬æ¢ç¬¦å¯ä»¥ä½¿æ—¥æœŸé€šè¿‡æŒ‡å®šçš„è½¬æ¢ç¬¦ç”Ÿæˆæ–°å­—ç¬¦ä¸²ã€‚è¿™äº›æ—¥æœŸè½¬æ¢ç¬¦å¦‚å›¾æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  Date date=<span class="keyword">new</span> Date();                                    </span><br><span class="line">  <span class="comment">//bçš„ä½¿ç”¨ï¼Œæœˆä»½ç®€ç§°</span></span><br><span class="line">  String str=String.format(Locale.US,<span class="string">"è‹±æ–‡æœˆä»½ç®€ç§°ï¼š%tb"</span>,date);     </span><br><span class="line">  System.out.println(str);                                                                            </span><br><span class="line">  System.out.printf(<span class="string">"æœ¬åœ°æœˆä»½ç®€ç§°ï¼š%tb%n"</span>,date);</span><br><span class="line">  <span class="comment">//Bçš„ä½¿ç”¨ï¼Œæœˆä»½å…¨ç§°</span></span><br><span class="line">  str=String.format(Locale.US,<span class="string">"è‹±æ–‡æœˆä»½å…¨ç§°ï¼š%tB"</span>,date);</span><br><span class="line">  System.out.println(str);</span><br><span class="line">  System.out.printf(<span class="string">"æœ¬åœ°æœˆä»½å…¨ç§°ï¼š%tB%n"</span>,date);</span><br><span class="line">  <span class="comment">//açš„ä½¿ç”¨ï¼Œæ˜ŸæœŸç®€ç§°</span></span><br><span class="line">  str=String.format(Locale.US,<span class="string">"è‹±æ–‡æ˜ŸæœŸçš„ç®€ç§°ï¼š%ta"</span>,date);</span><br><span class="line">  System.out.println(str);</span><br><span class="line">  <span class="comment">//Açš„ä½¿ç”¨ï¼Œæ˜ŸæœŸå…¨ç§°</span></span><br><span class="line">  System.out.printf(<span class="string">"æœ¬åœ°æ˜ŸæœŸçš„ç®€ç§°ï¼š%tA%n"</span>,date);</span><br><span class="line">  <span class="comment">//Cçš„ä½¿ç”¨ï¼Œå¹´å‰ä¸¤ä½</span></span><br><span class="line">  System.out.printf(<span class="string">"å¹´çš„å‰ä¸¤ä½æ•°å­—ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š%tC%n"</span>,date);</span><br><span class="line">  <span class="comment">//yçš„ä½¿ç”¨ï¼Œå¹´åä¸¤ä½</span></span><br><span class="line">  System.out.printf(<span class="string">"å¹´çš„åä¸¤ä½æ•°å­—ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š%ty%n"</span>,date);</span><br><span class="line">  <span class="comment">//jçš„ä½¿ç”¨ï¼Œä¸€å¹´çš„å¤©æ•°</span></span><br><span class="line">  System.out.printf(<span class="string">"ä¸€å¹´ä¸­çš„å¤©æ•°ï¼ˆå³å¹´çš„ç¬¬å‡ å¤©ï¼‰ï¼š%tj%n"</span>,date);</span><br><span class="line">  <span class="comment">//mçš„ä½¿ç”¨ï¼Œæœˆä»½</span></span><br><span class="line">  System.out.printf(<span class="string">"ä¸¤ä½æ•°å­—çš„æœˆä»½ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š%tm%n"</span>,date);</span><br><span class="line">  <span class="comment">//dçš„ä½¿ç”¨ï¼Œæ—¥ï¼ˆäºŒä½ï¼Œä¸å¤Ÿè¡¥é›¶ï¼‰</span></span><br><span class="line">  System.out.printf(<span class="string">"ä¸¤ä½æ•°å­—çš„æ—¥ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š%td%n"</span>,date);</span><br><span class="line">  <span class="comment">//eçš„ä½¿ç”¨ï¼Œæ—¥ï¼ˆä¸€ä½ä¸è¡¥é›¶ï¼‰</span></span><br><span class="line">  System.out.printf(<span class="string">"æœˆä»½çš„æ—¥ï¼ˆå‰é¢ä¸è¡¥0ï¼‰ï¼š%te"</span>,date);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è‹±æ–‡æœˆä»½ç®€ç§°ï¼šSep</span><br><span class="line">æœ¬åœ°æœˆä»½ç®€ç§°ï¼šä¹æœˆ</span><br><span class="line">è‹±æ–‡æœˆä»½å…¨ç§°ï¼šSeptember</span><br><span class="line">æœ¬åœ°æœˆä»½å…¨ç§°ï¼šä¹æœˆ</span><br><span class="line">è‹±æ–‡æ˜ŸæœŸçš„ç®€ç§°ï¼šMon</span><br><span class="line">æœ¬åœ°æ˜ŸæœŸçš„ç®€ç§°ï¼šæ˜ŸæœŸä¸€</span><br><span class="line">å¹´çš„å‰ä¸¤ä½æ•°å­—ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š20</span><br><span class="line">å¹´çš„åä¸¤ä½æ•°å­—ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š12</span><br><span class="line">ä¸€å¹´ä¸­çš„å¤©æ•°ï¼ˆå³å¹´çš„ç¬¬å‡ å¤©ï¼‰ï¼š254</span><br><span class="line">ä¸¤ä½æ•°å­—çš„æœˆä»½ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š09</span><br><span class="line">ä¸¤ä½æ•°å­—çš„æ—¥ï¼ˆä¸è¶³ä¸¤ä½å‰é¢è¡¥0ï¼‰ï¼š10</span><br><span class="line">æœˆä»½çš„æ—¥ï¼ˆå‰é¢ä¸è¡¥0ï¼‰ï¼š10</span><br></pre></td></tr></table></figure>
<h5 id="å’Œæ—¥æœŸæ ¼å¼è½¬æ¢ç¬¦ç›¸æ¯”ï¼Œæ—¶é—´æ ¼å¼çš„è½¬æ¢ç¬¦è¦æ›´å¤šã€æ›´ç²¾ç¡®ã€‚å®ƒå¯ä»¥å°†æ—¶é—´æ ¼å¼åŒ–æˆæ—¶ã€åˆ†ã€ç§’ç”šè‡³æ—¶æ¯«ç§’ç­‰å•ä½ã€‚æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„è½¬æ¢ç¬¦å¦‚å›¾æ‰€ç¤ºã€‚"><a href="#å’Œæ—¥æœŸæ ¼å¼è½¬æ¢ç¬¦ç›¸æ¯”ï¼Œæ—¶é—´æ ¼å¼çš„è½¬æ¢ç¬¦è¦æ›´å¤šã€æ›´ç²¾ç¡®ã€‚å®ƒå¯ä»¥å°†æ—¶é—´æ ¼å¼åŒ–æˆæ—¶ã€åˆ†ã€ç§’ç”šè‡³æ—¶æ¯«ç§’ç­‰å•ä½ã€‚æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„è½¬æ¢ç¬¦å¦‚å›¾æ‰€ç¤ºã€‚" class="headerlink" title="å’Œæ—¥æœŸæ ¼å¼è½¬æ¢ç¬¦ç›¸æ¯”ï¼Œæ—¶é—´æ ¼å¼çš„è½¬æ¢ç¬¦è¦æ›´å¤šã€æ›´ç²¾ç¡®ã€‚å®ƒå¯ä»¥å°†æ—¶é—´æ ¼å¼åŒ–æˆæ—¶ã€åˆ†ã€ç§’ç”šè‡³æ—¶æ¯«ç§’ç­‰å•ä½ã€‚æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„è½¬æ¢ç¬¦å¦‚å›¾æ‰€ç¤ºã€‚"></a>å’Œæ—¥æœŸæ ¼å¼è½¬æ¢ç¬¦ç›¸æ¯”ï¼Œæ—¶é—´æ ¼å¼çš„è½¬æ¢ç¬¦è¦æ›´å¤šã€æ›´ç²¾ç¡®ã€‚å®ƒå¯ä»¥å°†æ—¶é—´æ ¼å¼åŒ–æˆæ—¶ã€åˆ†ã€ç§’ç”šè‡³æ—¶æ¯«ç§’ç­‰å•ä½ã€‚æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„è½¬æ¢ç¬¦å¦‚å›¾æ‰€ç¤ºã€‚</h5><table>
<thead>
<tr>
<th>è½¬  æ¢  ç¬¦</th>
<th>è¯´    æ˜</th>
<th>ç¤º    ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>2ä½æ•°å­—24æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰</td>
<td>15</td>
</tr>
<tr>
<td>I</td>
<td>2ä½æ•°å­—12æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰</td>
<td>03</td>
</tr>
<tr>
<td>k</td>
<td>2ä½æ•°å­—24æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥0ï¼‰</td>
<td>15</td>
</tr>
<tr>
<td>l</td>
<td>2ä½æ•°å­—12æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥0ï¼‰</td>
<td>3</td>
</tr>
<tr>
<td>M</td>
<td>2ä½æ•°å­—çš„åˆ†é’Ÿï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰</td>
<td>03</td>
</tr>
<tr>
<td>S</td>
<td>2ä½æ•°å­—çš„ç§’ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰</td>
<td>09</td>
</tr>
<tr>
<td>L</td>
<td>3ä½æ•°å­—çš„æ¯«ç§’ï¼ˆä¸è¶³3ä½å‰é¢è¡¥0ï¼‰</td>
<td>015</td>
</tr>
<tr>
<td>N</td>
<td>9ä½æ•°å­—çš„æ¯«ç§’æ•°ï¼ˆä¸è¶³9ä½å‰é¢è¡¥0ï¼‰</td>
<td>562000000</td>
</tr>
<tr>
<td>p</td>
<td>å°å†™å­—æ¯çš„ä¸Šåˆæˆ–ä¸‹åˆæ ‡è®°</td>
<td>ä¸­ï¼šä¸‹åˆè‹±ï¼špm</td>
</tr>
<tr>
<td>z</td>
<td>ç›¸å¯¹äºGMTçš„RFC822æ—¶åŒºçš„åç§»é‡</td>
<td>+0800</td>
</tr>
<tr>
<td>Z</td>
<td>æ—¶åŒºç¼©å†™å­—ç¬¦ä¸²</td>
<td>CST</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>s</th>
<th>1970-1-1 00:00:00 åˆ°ç°åœ¨æ‰€ç»è¿‡çš„ç§’æ•°</th>
<th>1193468128</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q</td>
<td>1970-1-1 00:00:00 åˆ°ç°åœ¨æ‰€ç»è¿‡çš„æ¯«ç§’æ•°</td>
<td>1193468128984</td>
</tr>
</tbody>
</table>
<p>æµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Date date = <span class="keyword">new</span> Date();</span><br><span class="line">	<span class="comment">//Hçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—24æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰:%tH%n"</span>, date);</span><br><span class="line">	<span class="comment">//Içš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—12æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰:%tI%n"</span>, date);</span><br><span class="line">	<span class="comment">//kçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—24æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥0ï¼‰:%tk%n"</span>, date);</span><br><span class="line">	<span class="comment">//lçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—12æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥0ï¼‰:%tl%n"</span>, date);</span><br><span class="line">	<span class="comment">//Mçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—çš„åˆ†é’Ÿï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰:%tM%n"</span>, date);</span><br><span class="line">	<span class="comment">//Sçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"2ä½æ•°å­—çš„ç§’ï¼ˆä¸è¶³2ä½å‰é¢è¡¥0ï¼‰:%tS%n"</span>, date);</span><br><span class="line">	<span class="comment">//Lçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"3ä½æ•°å­—çš„æ¯«ç§’ï¼ˆä¸è¶³3ä½å‰é¢è¡¥0ï¼‰:%tL%n"</span>, date);</span><br><span class="line">	<span class="comment">//Nçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"9ä½æ•°å­—çš„æ¯«ç§’æ•°ï¼ˆä¸è¶³9ä½å‰é¢è¡¥0ï¼‰:%tN%n"</span>, date);</span><br><span class="line">	<span class="comment">//pçš„ä½¿ç”¨</span></span><br><span class="line">	String str = String.format(Locale.US, <span class="string">"å°å†™å­—æ¯çš„ä¸Šåˆæˆ–ä¸‹åˆæ ‡è®°(è‹±)ï¼š%tp"</span>, date);</span><br><span class="line">	System.out.println(str); </span><br><span class="line">	System.out.printf(<span class="string">"å°å†™å­—æ¯çš„ä¸Šåˆæˆ–ä¸‹åˆæ ‡è®°ï¼ˆä¸­ï¼‰ï¼š%tp%n"</span>, date);</span><br><span class="line">	<span class="comment">//zçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"ç›¸å¯¹äºGMTçš„RFC822æ—¶åŒºçš„åç§»é‡:%tz%n"</span>, date);</span><br><span class="line">	<span class="comment">//Zçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"æ—¶åŒºç¼©å†™å­—ç¬¦ä¸²:%tZ%n"</span>, date);</span><br><span class="line">	<span class="comment">//sçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"1970-1-1 00:00:00 åˆ°ç°åœ¨æ‰€ç»è¿‡çš„ç§’æ•°ï¼š%ts%n"</span>, date);</span><br><span class="line">	<span class="comment">//Qçš„ä½¿ç”¨</span></span><br><span class="line">	System.out.printf(<span class="string">"1970-1-1 00:00:00 åˆ°ç°åœ¨æ‰€ç»è¿‡çš„æ¯«ç§’æ•°ï¼š%tQ%n"</span>, date);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>ä½æ•°å­—<span class="number">24</span>æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³<span class="number">2</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">11</span></span><br><span class="line"><span class="number">2</span>ä½æ•°å­—<span class="number">12</span>æ—¶åˆ¶çš„å°æ—¶ï¼ˆä¸è¶³<span class="number">2</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">11</span></span><br><span class="line"><span class="number">2</span>ä½æ•°å­—<span class="number">24</span>æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥<span class="number">0</span>ï¼‰:<span class="number">11</span></span><br><span class="line"><span class="number">2</span>ä½æ•°å­—<span class="number">12</span>æ—¶åˆ¶çš„å°æ—¶ï¼ˆå‰é¢ä¸è¡¥<span class="number">0</span>ï¼‰:<span class="number">11</span></span><br><span class="line"><span class="number">2</span>ä½æ•°å­—çš„åˆ†é’Ÿï¼ˆä¸è¶³<span class="number">2</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">03</span></span><br><span class="line"><span class="number">2</span>ä½æ•°å­—çš„ç§’ï¼ˆä¸è¶³<span class="number">2</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">52</span></span><br><span class="line"><span class="number">3</span>ä½æ•°å­—çš„æ¯«ç§’ï¼ˆä¸è¶³<span class="number">3</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">773</span></span><br><span class="line"><span class="number">9</span>ä½æ•°å­—çš„æ¯«ç§’æ•°ï¼ˆä¸è¶³<span class="number">9</span>ä½å‰é¢è¡¥<span class="number">0</span>ï¼‰:<span class="number">773000000</span></span><br><span class="line">å°å†™å­—æ¯çš„ä¸Šåˆæˆ–ä¸‹åˆæ ‡è®°(è‹±)ï¼šam</span><br><span class="line">å°å†™å­—æ¯çš„ä¸Šåˆæˆ–ä¸‹åˆæ ‡è®°ï¼ˆä¸­ï¼‰ï¼šä¸Šåˆ</span><br><span class="line">ç›¸å¯¹äºGMTçš„RFC822æ—¶åŒºçš„åç§»é‡:+<span class="number">0800</span></span><br><span class="line">æ—¶åŒºç¼©å†™å­—ç¬¦ä¸²:CST</span><br><span class="line"><span class="number">1970</span>-<span class="number">1</span>-<span class="number">1</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> åˆ°ç°åœ¨æ‰€ç»è¿‡çš„ç§’æ•°ï¼š<span class="number">1347246232</span></span><br><span class="line"><span class="number">1970</span>-<span class="number">1</span>-<span class="number">1</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> åˆ°ç°åœ¨æ‰€ç»è¿‡çš„æ¯«ç§’æ•°ï¼š<span class="number">1347246232773</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Bug/Room-AppDatabase-Impl-does-not-existçš„å¼‚å¸¸è§£å†³/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Bug/Room-AppDatabase-Impl-does-not-existçš„å¼‚å¸¸è§£å†³/" itemprop="url">
                  Room --AppDatabase_Impl does not existçš„å¼‚å¸¸è§£å†³
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-01-17 17:08:28" itemprop="dateCreated datePublished" datetime="2018-01-17T17:08:28+08:00">2018-01-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-03-01 00:29:10" itemprop="dateModified" datetime="2018-03-01T00:29:10+08:00">2018-03-01</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bug/" itemprop="url" rel="index"><span itemprop="name">Bug</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Bugå¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.RuntimeException: cannot find implementation for com.wangzhumo.app.datasource.database.AppDB. AppDB_Impl does not exist</span><br></pre></td></tr></table></figure></p>
<h4 id="å¯»æ‰¾åŸå› "><a href="#å¯»æ‰¾åŸå› " class="headerlink" title="å¯»æ‰¾åŸå› "></a>å¯»æ‰¾åŸå› </h4><p>debugä¾æ¬¡å‘ç°:</p>
<ul>
<li><p>getInstance()ä¸ºç©º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> AppDB <span class="title">getInstance</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="keyword">synchronized</span> (AppDB.class) &#123;</span><br><span class="line">              <span class="keyword">if</span> (sInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line">              </span><br><span class="line">              	<span class="comment">//æ­¤å¤„è¿”å›ä¸ºç©º</span></span><br><span class="line">                  sInstance = buildDatabase(context);</span><br><span class="line">                  sInstance.updateDatabaseCreated(context);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> sInstance;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>buildDatabase(context) è¿”å›ä¸ºç©º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Build the database.</span></span><br><span class="line"><span class="comment"> * creates a new instance of the database.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> AppDB <span class="title">buildDatabase</span><span class="params">(<span class="keyword">final</span> Context appContext)</span> </span>&#123;</span><br><span class="line">     AppDB appDB = Room.databaseBuilder(appContext, AppDB.class, DATABASE_NAME)</span><br><span class="line">            .addCallback(<span class="keyword">new</span> Callback() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@NonNull SupportSQLiteDatabase db)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">super</span>.onCreate(db);</span><br><span class="line">                    AppDB database = AppDB.getInstance(appContext);</span><br><span class="line">                    database.setDatabaseCreated();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOpen</span><span class="params">(@NonNull SupportSQLiteDatabase db)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">super</span>.onOpen(db);</span><br><span class="line">                    Log.e(TAG, <span class="string">"onOpen: "</span> + db.getPath());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).build();</span><br><span class="line">    <span class="keyword">return</span> appDB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>databaseBuilderæ˜¯åˆ›å»ºæ•°æ®åº“çš„æ–¹æ³•,ä½†æ˜¯å®ƒæ„å»ºå¤±è´¥äº†,é‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯æºç äº†</p>
</li>
</ul>
<h4 id="Debugæºç "><a href="#Debugæºç " class="headerlink" title="Debugæºç "></a>Debugæºç </h4><ul>
<li>databaseBuilder æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"WeakerAccess"</span>)</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends RoomDatabase&gt; RoomDatabase.<span class="function">Builder&lt;T&gt; <span class="title">databaseBuilder</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            @NonNull Context context, @NonNull Class&lt;T&gt; klass, @NonNull String name)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//noinspection ConstantConditions</span></span><br><span class="line">        <span class="keyword">if</span> (name == <span class="keyword">null</span> || name.trim().length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException</span><br><span class="line">              (<span class="string">"Cannot build a database with null or empty name."</span></span><br><span class="line">                    + <span class="string">" If you are trying to create an in memory database, use Room"</span></span><br><span class="line">                    + <span class="string">".inMemoryDatabaseBuilder"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RoomDatabase.Builder&lt;&gt;(context, klass, name);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥æ˜æ˜¾çš„çœ‹å‡º,æ­¤å¤„æŠ›å‡ºçš„å¼‚å¸¸ä¸æ˜¯AppDB_Impl does not exist çš„æç¤º,å¯ä»¥è‚¯å®šå¹¶ä¸æ˜¯æ­¤å¤„çš„é—®é¢˜</p>
<p>åº”è¯¥æ˜¯æ­£å¸¸è¿”å›çš„ return new RoomDatabase.Builder&lt;&gt;(context, klass, name);</p>
<p><code>RoomDatabase.Builder</code></p>
<p>é‚£ä¹ˆå‡ºé—®é¢˜çš„å°±å¯ä»¥è‚¯å®šæ˜¯</p>
<ul>
<li><p>build()æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@NonNull</span><br><span class="line">        public T build() &#123;</span><br><span class="line">            //noinspection ConstantConditions</span><br><span class="line">            if (mContext == null) &#123;</span><br><span class="line">                throw new IllegalArgumentException</span><br><span class="line">                (&quot;Cannot provide null context for the database.&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            //noinspection ConstantConditions</span><br><span class="line">            if (mDatabaseClass == null) &#123;</span><br><span class="line">                throw new IllegalArgumentException</span><br><span class="line">                (&quot;Must provide an abstract class that&quot;</span><br><span class="line">                        + &quot; extends RoomDatabase&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            if (mFactory == null) &#123;</span><br><span class="line">                mFactory = new FrameworkSQLiteOpenHelperFactory();</span><br><span class="line">            &#125;</span><br><span class="line">            DatabaseConfiguration configuration =</span><br><span class="line">                    new DatabaseConfiguration(mContext, mName, mFactory, mMigrationContainer,</span><br><span class="line">                            mCallbacks, mAllowMainThreadQueries, mRequireMigration);</span><br><span class="line">            T db = Room.getGeneratedImplementation(mDatabaseClass, DB_IMPL_SUFFIX);</span><br><span class="line">            db.init(configuration);</span><br><span class="line">            return db;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„,debugå‘ç°,æ˜¯åˆ°</p>
<p><code>T db = Room.getGeneratedImplementation(mDatabaseClass, DB_IMPL_SUFFIX);</code></p>
<p>æŠ›å‡ºå¼‚å¸¸çš„.</p>
</li>
</ul>
<h4 id="é”å®šé—®é¢˜"><a href="#é”å®šé—®é¢˜" class="headerlink" title="é”å®šé—®é¢˜"></a>é”å®šé—®é¢˜</h4><p><code>getGeneratedImplementation</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">static</span> &lt;T, C&gt; <span class="function">T <span class="title">getGeneratedImplementation</span><span class="params">(Class&lt;C&gt; klass, String suffix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> String fullPackage = klass.getPackage().getName();</span><br><span class="line">        String name = klass.getCanonicalName();</span><br><span class="line">        <span class="keyword">final</span> String postPackageName = fullPackage.isEmpty()</span><br><span class="line">                ? name</span><br><span class="line">                : (name.substring(fullPackage.length() + <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">final</span> String implName = postPackageName.replace(<span class="string">'.'</span>, <span class="string">'_'</span>) + suffix;</span><br><span class="line">        <span class="comment">//noinspection TryWithIdenticalCatches</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">            <span class="keyword">final</span> Class&lt;T&gt; aClass = (Class&lt;T&gt;) Class.forName(</span><br><span class="line">                    fullPackage.isEmpty() ? implName : fullPackage + <span class="string">"."</span> + implName);</span><br><span class="line">            <span class="keyword">return</span> aClass.newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        </span><br><span class="line">        	</span><br><span class="line">        	<span class="comment">//**å¾ˆæ˜æ˜¾,å°±æ˜¯è¿™ä¸ªåœ°æ–¹äº†**</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"cannot find implementation for "</span></span><br><span class="line">                    + klass.getCanonicalName() + <span class="string">". "</span> + implName + <span class="string">" does not exist"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Cannot access the constructor"</span></span><br><span class="line">                    + klass.getCanonicalName());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Failed to create an instance of "</span></span><br><span class="line">                    + klass.getCanonicalName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯,ç”Ÿæˆç±»å¤±è´¥äº†</p>
<p>å…¶ä»–å‚æ•°éƒ½æ­£å¸¸,ååç”Ÿæˆå¤±è´¥,æ‰€ä»¥å°±æ€€ç–‘åˆ° </p>
<p> Java  -&gt;     <code>apt</code> çš„é—®é¢˜</p>
<p>Kotlin -&gt;  <code>kapt</code>çš„é—®é¢˜</p>
<p>è¿™ä¸¤ä¸ªå°±æ˜¯ç”¨æ¥ç”Ÿæˆä»£ç çš„,è¿™é‡Œçš„ç”Ÿæˆå¤±è´¥,æœ‰å¾ˆå¤§æ¦‚ç‡æ˜¯è¿™ä¸ªé—®é¢˜</p>
<h4 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h4><p>æŸ¥çœ‹é¡¹ç›®çš„ä¾èµ–  <code>lib_opensource  -&gt; build.gradle</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//arch</span><br><span class="line">api deps.archLibs.archExtensions</span><br><span class="line">api deps.archLibs.archLifecycleCommon</span><br><span class="line">api deps.archLibs.archRoomRuntime</span><br><span class="line">kapt deps.archLibs.archRoomCompiler</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å‘ç°,æˆ‘å·²ç»æ·»åŠ äº†,é‚£ä¹ˆä»€ä¹ˆé¬¼é—®é¢˜å‘¢?</p>
<p><strong>æ€€ç–‘æ˜¯libraryçš„é—®é¢˜,æ‰“å¼€æˆ‘ä½¿ç”¨Roomçš„library</strong>    ,æŸ¥çœ‹ <code>lib_datasource -&gt; build.gradle</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &apos;com.android.library&apos;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;])</span><br><span class="line">    api project(&apos;:lib_opensource&apos;)</span><br><span class="line"></span><br><span class="line">//    kapt deps.archLibs.archRoomCompiler</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœç„¶å¿˜äº†åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &apos;com.android.library&apos;</span><br><span class="line">apply plugin: &apos;kotlin-android&apos;</span><br><span class="line">apply plugin: &apos;kotlin-kapt&apos;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;])</span><br><span class="line">    api project(&apos;:lib_opensource&apos;)</span><br><span class="line"></span><br><span class="line">//    kapt deps.archLibs.archRoomCompiler</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°±Okäº†,æˆ‘åˆå¯ä»¥æ„‰å¿«çš„ç©è€äº†</p>
<h4 id="è®°å¾—-kapt"><a href="#è®°å¾—-kapt" class="headerlink" title="è®°å¾—:  kapt"></a>è®°å¾—:  kapt</h4>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/uncategorized/ä½¿ç”¨CharlesæŠ“Httpsçš„æ•°æ®è¯·æ±‚/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/uncategorized/ä½¿ç”¨CharlesæŠ“Httpsçš„æ•°æ®è¯·æ±‚/" itemprop="url">
                  ä½¿ç”¨CharlesæŠ“Httpsçš„æ•°æ®è¯·æ±‚
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-01-11 16:09:46" itemprop="dateCreated datePublished" datetime="2018-01-11T16:09:46+08:00">2018-01-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-03-01 00:32:52" itemprop="dateModified" datetime="2018-03-01T00:32:52+08:00">2018-03-01</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¹‹å‰çš„æ–‡ç« ä¸­ç»™é¡¹ç›®ä¸­åŠ å…¥äº†Https,æ­¤æ—¶ä½¿ç”¨charlesç å®å°±æ˜¯ä¸€å †ä¹±ç ,</p>
<p>ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦å¸¸å¸¸ä½¿ç”¨Charles,è°ƒè¯•æ¥å£,æŸ¥æ‰¾é—®é¢˜ç­‰.</p>
<h4 id="å¯¼å‡ºè¯ä¹¦"><a href="#å¯¼å‡ºè¯ä¹¦" class="headerlink" title="å¯¼å‡ºè¯ä¹¦"></a>å¯¼å‡ºè¯ä¹¦</h4><p>1.æ‰“å¼€Charles</p>
<p>2.Help -&gt; SSL Proxying -&gt; Save Charles Root Certificateâ€¦</p>
<p>3.ä¿å­˜åˆ°~/Downloads/charles-ssl-proxying-certificate.pem</p>
<h4 id="å®‰è£…è¯ä¹¦åˆ°è®¾å¤‡"><a href="#å®‰è£…è¯ä¹¦åˆ°è®¾å¤‡" class="headerlink" title="å®‰è£…è¯ä¹¦åˆ°è®¾å¤‡"></a>å®‰è£…è¯ä¹¦åˆ°è®¾å¤‡</h4><p>1.æŠŠè¯ä¹¦æ¨é€åˆ°è®¾å¤‡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb push charles-ssl-proxying-certificate.pem /sdcard/Download/</span><br><span class="line">charles-ssl-proxying-certificate.pem: 1 file pushed. 0.1 MB/s (1921 bytes in 0.012s)</span><br></pre></td></tr></table></figure>
<p>2.å®‰è£…è¯ä¹¦</p>
<p>è®¾ç½® -&gt; å®‰å…¨ -&gt; è®¾å¤‡ç®¡ç†ä¸å‡­è¯ -&gt; ä»å­˜å‚¨å®‰è£… -&gt; charles-ssl-proxying-certificate.pemâ€™</p>
<h4 id="è®¾ç½®Charles"><a href="#è®¾ç½®Charles" class="headerlink" title="è®¾ç½®Charles"></a>è®¾ç½®Charles</h4><p>1.Proxy -&gt; SSL Proxying Settings</p>
<p>2.æ‰“å¼€æ‰‹æœº,å¼€å§‹è¯·æ±‚</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Android/Androidå¼€å‘ä¸­å¸¸ç”¨çš„Adbå‘½ä»¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Android/Androidå¼€å‘ä¸­å¸¸ç”¨çš„Adbå‘½ä»¤/" itemprop="url">
                  Androidå¼€å‘ä¸­å¸¸ç”¨çš„Adbå‘½ä»¤
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-01-11 12:07:40 / ä¿®æ”¹æ—¶é—´ï¼š13:17:15" itemprop="dateCreated datePublished" datetime="2018-01-11T12:07:40+08:00">2018-01-11</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åœ¨åšè¿™äº›ä¹‹å‰,å…ˆé…ç½®å¥½adbç¯å¢ƒå˜é‡,ä»¥æˆ‘çš„é…ç½®ä¸ºä¾‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> vim ~/.bash_profile</span><br><span class="line"></span><br><span class="line">export ANDROID_HOME=/Users/phyooos/Library/Android/sdk</span><br><span class="line">...</span><br><span class="line">export PATH=&#123;çœç•¥&#125;:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> source ~/.bas</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> adb</span><br><span class="line">Android Debug Bridge version 1.0.39</span><br><span class="line">Version 0.0.1-4500957</span><br><span class="line">Installed as /Users/phyooos/Library/Android/sdk/platform-tools/adb</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>è¡¥å……</p>
<blockquote>
<p>adb shell pm list packages   å½“å‰æ‰‹æœºå®‰è£…çš„æ‰€æœ‰appåŒ…å<br>adb shell pm list packages | grep â€˜googleâ€™  åœ¨æ‰€æœ‰åŒ…åä¸­æŸ¥æ‰¾å¸¦â€™googleâ€™çš„</p>
</blockquote>
<h4 id="è¿æ¥è®¾å¤‡"><a href="#è¿æ¥è®¾å¤‡" class="headerlink" title="è¿æ¥è®¾å¤‡"></a>è¿æ¥è®¾å¤‡</h4><p>æ‰“å¼€å¼€å‘è€… -&gt; æ‰“å¼€è°ƒè¯• -&gt; å…è®¸è°ƒè¯•</p>
<ul>
<li><p>é€šè¿‡usbè¿æ¥</p>
</li>
<li><p>é€šè¿‡wifiè¿æ¥</p>
<p>ä¿è¯Androidè®¾å¤‡ä¸ç”µè„‘åœ¨å±€åŸŸç½‘ä¸­,ç½‘æ®µå¥½åƒä¹Ÿè¦ä¸€è‡´ eg:  <code>192.168.2.98 , 192.168.2.111</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~ âŒš 9:44:55</span><br><span class="line"><span class="meta">$</span> adb connect 192.168.6.51</span><br><span class="line">unable to connect to 192.168.6.51:5555: Connection refused</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æ˜¯è¿æ¥ä¸ä¸Šçš„,è¦å…ˆtcpip 5555,å¦‚ä¸‹:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>ä½¿ç”¨Tcpå¹¶ç›‘å¬ç«¯å£5555</span><br><span class="line">adb tcpip 5555</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>è¿æ¥è®¾å¤‡</span><br><span class="line">adb connect 192.168.6.51</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æƒ³ç”¨usbè°ƒè¯•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>ä½¿ç”¨usbè°ƒè¯•  </span><br><span class="line">adb usb</span><br></pre></td></tr></table></figure>
<p>PS:æœ‰çš„è®¾å¤‡ç›´æ¥adb connect  å³å¯,æ‰€ä»¥ä¸å¦¨å…ˆè¯•è¯•</p>
<p>â€‹</p>
</li>
</ul>
<h4 id="æŸ¥çœ‹è®¾å¤‡"><a href="#æŸ¥çœ‹è®¾å¤‡" class="headerlink" title="æŸ¥çœ‹è®¾å¤‡"></a>æŸ¥çœ‹è®¾å¤‡</h4><ul>
<li><p>æŸ¥çœ‹æ‰€æœ‰è¿æ¥çš„è®¾å¤‡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">3080b82d	device</span><br><span class="line">860BCML228J8	device</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šè®¾å¤‡(adb å‘½ä»¤å¿…é¡»æŒ‡å®šä¸€ä¸ªè®¾å¤‡ä½¿ç”¨)</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">abd -s ç¼–å· å‘½ä»¤</span><br><span class="line">æ¯”å¦‚æˆ‘è¦è¿æ¥3080b82d	device è¿™ä¸ªè®¾å¤‡,å®‰è£…ä¸€ä¸ªapk</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"><span class="meta">$</span> adb -s 3080b82d install Test.apk</span><br><span class="line">Success</span><br></pre></td></tr></table></figure>
<h4 id="å®‰è£…-å¸è½½apk"><a href="#å®‰è£…-å¸è½½apk" class="headerlink" title="å®‰è£…,å¸è½½apk"></a>å®‰è£…,å¸è½½apk</h4><ul>
<li>å®‰è£…<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb -s 3080b82d install Users/phyooos/develop/Test.apk</span><br><span class="line">Success</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>install è·Ÿä¸Šapkçš„pathå³å¯</p>
<p>install å¯ä»¥æ­é…å‡ ä¸ªå‚æ•°ä½¿ç”¨,æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯</p>
<p><code>install -r</code>   æ›¿æ¢æ‰åŸæ¥çš„apk.(è¢«ç§°ä¸ºå¼ºåˆ¶å®‰è£…)    è‡³äºå…¶ä»–çš„å‚æ•°å»googleå®˜ç½‘çœ‹å§</p>
<p><code>install -t</code>  å¯ä»¥å®‰è£…æµ‹è¯•åŒ…</p>
<ul>
<li>å¸è½½</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall [è½¯ä»¶åŒ…å]</span><br><span class="line"></span><br><span class="line">adb uninstall -k [è½¯ä»¶åŒ…å]</span><br></pre></td></tr></table></figure>
<p>-k å‚æ•°,å¸è½½è½¯ä»¶ä½†æ˜¯ä¿ç•™é…ç½®å’Œç¼“å­˜æ–‡ä»¶.</p>
<p>åŒ…åä½¿ç”¨æ–‡ç« å¼€å§‹çš„å‘½ä»¤æŸ¥æ‰¾å³å¯(å½“å‰æœ‰ä¸¤ä¸ªæ‰‹æœº,è¿˜è¦æŒ‡å®šè®¾å¤‡)<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb -s 3080b82d shell pm list packages | grep 'miui'</span><br><span class="line">package:com.miui.screenrecorder</span><br><span class="line">package:com.miui.contentextension</span><br><span class="line">package:com.miui.powerkeeper</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h4 id="æ‹‰å–-æ¨é€æ–‡ä»¶"><a href="#æ‹‰å–-æ¨é€æ–‡ä»¶" class="headerlink" title="æ‹‰å–,æ¨é€æ–‡ä»¶"></a>æ‹‰å–,æ¨é€æ–‡ä»¶</h4><ul>
<li>å‘é€æ–‡ä»¶åˆ°Androidè®¾å¤‡</li>
</ul>
<p>ã€€ã€€<code>adb push [æœ¬åœ°è·¯å¾„] [è¿œç¨‹è·¯å¾„]</code></p>
<ul>
<li>ä»Androidè®¾å¤‡ä¸­ä¸‹è½½æ–‡ä»¶</li>
</ul>
<p>ã€€ã€€<code>adb pull [è¿œç¨‹è·¯å¾„] [æœ¬åœ°è·¯å¾„]</code></p>
<h4 id="æˆªå›¾å½•å±"><a href="#æˆªå›¾å½•å±" class="headerlink" title="æˆªå›¾å½•å±"></a>æˆªå›¾å½•å±</h4><ul>
<li><p>æˆªå›¾<code>adb shell screencap [path]</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap /sdcard/screen.png</span><br><span class="line">#æˆªå›¾å¹¶ä¿å­˜åˆ°/sdcard/screen.png</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½•å±<code>adb shell screenrecord [path]</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord /sdcard/demo.mp4</span><br><span class="line">#å½•å±</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„:   æŒ‰Ctrl-C ç»“æŸå½•åˆ¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --size &lt;WIDTHxHEIGHT&gt;</span><br><span class="line"></span><br><span class="line">adb shell screenrecord --bit-rate &lt;RATE&gt;</span><br><span class="line">adb shell screenrecord --bit-rate 5000000 /sdcard/demo.mp4</span><br><span class="line"></span><br><span class="line">adb shell screenrecord --time-limit &lt;TIME&gt;</span><br><span class="line"></span><br><span class="line">adb shell screenrecord --rotate</span><br><span class="line"></span><br><span class="line">adb shell screenrecord --verbose</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h4 id="Package"><a href="#Package" class="headerlink" title="Package"></a>Package</h4><ul>
<li><p>æŸ¥çœ‹ç³»ç»Ÿå†…appä¿¡æ¯  <code>adb shell pm list packages</code></p>
<ul>
<li><p>æŸ¥çœ‹å½“å‰æ‰€æœ‰åŒ…</p>
<p><code>adb shell pm list packages</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb shell pm list packages</span><br><span class="line">package:com.flyme.roamingpay</span><br><span class="line">package:com.android.cts.priv.ctsshim</span><br><span class="line">package:com.meizu.pps</span><br><span class="line">package:com.meizu.net.pedometer</span><br><span class="line">package:com.android.providers.telephony</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç³»ç»Ÿåº”ç”¨</p>
<p><code>adb shell pm list packages -s</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb shell pm list packages -s</span><br><span class="line">package:com.miui.screenrecorder</span><br><span class="line">package:com.android.cts.priv.ctsshim</span><br><span class="line">package:com.qualcomm.qti.auth.sampleextauthservice</span><br><span class="line">package:com.qualcomm.qti.perfdump</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ™®é€šå¤–æ¥åº”ç”¨</p>
<p><code>adb shell pm list packages -3</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb shell pm list packages -3</span><br><span class="line">package:com.google.android.youtube</span><br><span class="line">package:com.hpbr.bosszhipin</span><br><span class="line">package:de.blinkt.openvpn</span><br><span class="line">package:org.iggymedia.periodtracker</span><br><span class="line">package:com.daimajia.gold</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä»–å‚æ•°</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>See their associated file.</span><br><span class="line">adb shell pm list packages -f </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Filter to only show disabled packages.</span><br><span class="line">adb shell pm list packages -d </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Filter to only show enabled packages.</span><br><span class="line">adb shell pm list packages -e </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>See the installer for the packages.</span><br><span class="line">adb shell pm list packages -i </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Also include uninstalled packages.</span><br><span class="line">adb shell pm list packages -u</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é€šè¿‡åŒ…åæŸ¥æ‰¾appä½ç½® <code>adb shell pm path [packagename]</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell pm path com.miui.screenrecorder</span><br><span class="line">package:/system/app/MiuiScreenRecorder/MiuiScreenRecorder.apk</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¸…é™¤ç¼“å­˜<code>adb shell pm clear  [packageName]</code></p>
<p>æ¸…é™¤äº†è¯¥appçš„  data  cache</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell pm clear com.yhcs.carmart</span><br><span class="line">Success</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
<h4 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h4><p>æˆ‘ä»¬çŸ¥é“androidå…¶å®ç²¾ç®€äº†linuxçš„å‘½ä»¤,æœ‰ä¸€å¤§éƒ¨åˆ†linuxå‘½ä»¤æ²¡æ³•ç”¨çš„</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb shell</span><br><span class="line"><span class="meta">#</span>å³å¯è¿›å…¥</span><br><span class="line"></span><br><span class="line">å¦‚æœè¦rootæƒé™,å›½å†…æ‰‹æœºå¥½åƒä¸ä¸€è‡´,æˆ‘æ˜¯ç”¨è¿‡çš„ä¸º</span><br><span class="line"><span class="meta">$</span> adb root</span><br><span class="line"><span class="meta">$</span> adb shell</span><br><span class="line"></span><br><span class="line">æ­¤æ—¶æƒé™å°±æ˜¯root</span><br><span class="line"></span><br><span class="line">è¿›å…¥shellå,å°±å¯ä»¥ä¸ºæ‰€æ¬²ä¸º,ä¸€èˆ¬å’Œlinuxä¸€è‡´</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡è¿™äº›,è¿˜æ˜¯ç®¡ç”¨çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls , cd , rm , mkdir , touch , pwd ,cp , mv ,netstat , ping, ip</span><br></pre></td></tr></table></figure>
<p>ä¸¾ä¸€ä¸ªä¾‹å­,æˆ‘æƒ³æŸ¥çœ‹å½“å‰wifiçš„ipæ˜¯å¤šå°‘.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> adb shell</span><br><span class="line">sagit:/ $ ip -f inet addr show wlan0</span><br><span class="line">23: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 3000</span><br><span class="line">    inet 192.168.6.51/23 brd 192.168.7.255 scope global wlan0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">sagit:/ $</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ip  inet 192.168.6.51  è¿™ä¸ªå°±æ˜¯</span><br></pre></td></tr></table></figure>
<h4 id="Logcat"><a href="#Logcat" class="headerlink" title="Logcat"></a>Logcat</h4><p><code>adb logcat [option] [filter]</code></p>
<ul>
<li><p>æŸ¥çœ‹log <code>adb logcat</code></p>
<p>é€šè¿‡  control + c  é€€å‡º</p>
<p>â€‹</p>
</li>
<li><p>æŸ¥çœ‹Debugçš„log <code>adb logcat *:D</code></p>
</li>
</ul>
<p>Logcat,è¿˜æ˜¯Android studio çœ‹èµ·æ¥æ–¹ä¾¿,æ‰€ä»¥æ²¡æœ‰ç»§ç»­å»çœ‹,ä¹Ÿå°±ä¸è¯´äº†</p>
<h4 id="dumpsys"><a href="#dumpsys" class="headerlink" title="dumpsys"></a>dumpsys</h4><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å‘½ä»¤</p>
<ul>
<li><p>ç”µé‡ <code>adb shell dumpsys battery</code></p>
<p>â€‹</p>
</li>
<li><p>æœåŠ¡åˆ—è¡¨ <code>adb shell dumpsys</code></p>
<p>ä¸‹é¢çš„å‘½ä»¤  <code>| more</code> æ˜¯ä¸ºäº†æ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ® </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys | more</span><br><span class="line">Currently running services:</span><br><span class="line">  DockObserver</span><br><span class="line">  MiuiBackup</span><br><span class="line">  MiuiInit</span><br><span class="line">  SurfaceFlinger</span><br><span class="line">  accessibility</span><br><span class="line">  account</span><br><span class="line">  activity</span><br><span class="line">  alarm</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªCurrently running services   æ‰€æœ‰çš„é¡¹ç›®,éƒ½å¯ä»¥è¯¦ç»†æŸ¥è¯¢</p>
</li>
<li><p>æŸ¥è¯¢å•ä¸ªservice  <code>adb shell dumpsys [service name]</code></p>
<p>æå‡ ä¸ªä¾‹å­çœ‹çœ‹:</p>
<ul>
<li>å±å¹•åˆ†è¾¨ç‡<code>adb shell dumpsys window displays</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys window displays</span><br><span class="line"></span><br><span class="line">WINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays)</span><br><span class="line">  Display: mDisplayId=0</span><br><span class="line">    init=1080x1920 480dpi cur=1080x1920 app=1080x1920 rng=1080x1020-1920x1860</span><br><span class="line">    deferred=false mLayoutNeeded=false</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­:</p>
<p>init=1080x1920  åˆ†è¾¨ç‡</p>
<p>480dpi   dpiå€¼</p>
<p>â€‹</p>
<ul>
<li><p>activityä¿¡æ¯<code>adb shell dumpsys activity</code></p>
<p>æ¯”å¦‚æˆ‘æƒ³çœ‹çœ‹æˆ‘activityçš„ä¿¡æ¯<code>adb shell dumpsys activity | grep &#39;com.yhcs.carmart&#39;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys activity | grep &quot;com.yhcs.carmart&quot;</span><br><span class="line">  * com.yhcs.carmart: 2 items</span><br><span class="line">    #0: PendingIntentRecord&#123;c526be3 com.yhcs.carmart startService&#125;</span><br><span class="line">    #1: PendingIntentRecord&#123;8949e0 com.yhcs.carmart broadcastIntent&#125;</span><br><span class="line">      -&gt; 8161:com.yhcs.carmart/u0a460 s1/1 u0/0 +44s372ms</span><br><span class="line">      -&gt; 8556:com.yhcs.carmart:channel/u0a460 s1/1 u0/0 +33s684ms</span><br><span class="line">      </span><br><span class="line">      ...</span><br><span class="line">      </span><br><span class="line">  * Recent #0: TaskRecord&#123;6019b81 #14799 A=com.yhcs.carmart U=0 StackId=1 sz=1&#125;</span><br><span class="line">   packageName=com.yhcs.carmart processName=com.yhcs.carmart</span><br><span class="line">   launchedFromUid=10460 launchedFromPackage=com.yhcs.carmart userId=0</span><br><span class="line">   app=ProcessRecord&#123;3c52934 8161:com.yhcs.carmart/u0a460&#125;</span><br><span class="line">   Intent &#123; cmp=com.yhcs.carmart/.ui.main.MainActivity &#125;</span><br><span class="line">   frontOfTask=true task=TaskRecord&#123;6019b81 #14799 A=com.yhcs.carmart U=0 StackId=1 sz=1&#125;</span><br><span class="line">   taskAffinity=com.yhcs.carmart</span><br><span class="line">   realActivity=com.yhcs.carmart/.ui.main.MainActivity</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æŒ‡å®šæŸ¥çœ‹è¿™ä¸ªactivity</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys activity com.yhcs.carmart/.ui.main.MainActivity</span><br><span class="line">TASK com.yhcs.carmart id=14799 userId=0</span><br><span class="line">  ACTIVITY com.yhcs.carmart/.ui.main.MainActivity a99200b pid=8161</span><br><span class="line">    Local Activity 90efa41 State:</span><br><span class="line">      mResumed=false mStopped=true mFinished=false</span><br><span class="line">      mChangingConfigurations=false</span><br><span class="line">      mCurrentConfig=&#123;1.0 460mcc11mnc [zh_CN] ldltr sw360dp w360dp h620dp 480dpi nrml long port finger -keyb/v/h -nav/h appBounds=Rect(0, 0 - 1080, 1920) s.12 themeChanged=0 themeChangedFlags=0&#125;</span><br><span class="line">      ...</span><br><span class="line">View Hierarchy:</span><br><span class="line">      DecorView@ce71c9e[MainActivity]</span><br><span class="line">        android.widget.LinearLayout&#123;6106377 V.E...... ......ID 0,0-1080,1920&#125;</span><br><span class="line">      ...</span><br><span class="line">Active Fragments </span><br><span class="line">	  ...</span><br></pre></td></tr></table></figure>
<p>é‡Œé¢æœ‰å¾ˆå¤šä¿¡æ¯</p>
<p>â€‹</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/uncategorized/OkHttpä¸­æ·»åŠ httpsæ”¯æŒ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/uncategorized/OkHttpä¸­æ·»åŠ httpsæ”¯æŒ/" itemprop="url">
                  OkHttpä¸­æ·»åŠ httpsæ”¯æŒ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-01-10 16:43:57 / ä¿®æ”¹æ—¶é—´ï¼š23:29:54" itemprop="dateCreated datePublished" datetime="2018-01-10T16:43:57+08:00">2018-01-10</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>åŸºç¡€çŸ¥è¯†</strong></p>
<p>æ„Ÿè§‰å°±æ˜¯ä¸€å †æœ‰ä¿¡èª‰çš„æœºæ„,è¯´: æˆ‘ä»¬è¿™äº›æœºæ„çš„å…¬é’¥æ˜¯å¯ä¿¡çš„,æˆ‘ä»¬ä¸‹é¢çš„å°å¼Ÿå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥ä¿¡ä»»çš„å•¦</p>
<p>ç„¶åå¤§å®¶å°±å»å½“äººå®¶å°å¼Ÿ,å°±æ˜¯å¯ä¿¡çš„äº†â€¦.</p>
<p>å½“ç„¶è¿™é‡Œé¢æœ‰çš„å¤§ä½¬ä¸é«˜å…´,å°±è‡ªå·±æä¸€å¥—è¯ä¹¦,æ¯”å¦‚12306</p>
<p>Httpsä¸­,å€¼å¾—æ³¨æ„çš„å¯†é’¥æœ‰:</p>
<ul>
<li>æœåŠ¡å™¨ç«¯çš„<code>å…¬é’¥</code>å’Œ<code>ç§é’¥</code></li>
</ul>
<ul>
<li>å®¢æˆ·ç«¯çš„<code>éšæœºå¯†é’¥</code></li>
</ul>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ä¸€ä¸ªHTTPSè¯·æ±‚å®é™…ä¸Šå°±æ˜¯ä¸¤æ¬¡HTTPä¼ è¾“.</p>
<p>1.å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·HTTPSè¯·æ±‚ï¼Œè¿æ¥åˆ°æœåŠ¡å™¨çš„443ç«¯å£ã€‚</p>
<p>2.æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚,å‘å®¢æˆ·ç«¯å‘é€è‡ªå·±çš„<code>å…¬é’¥</code></p>
<p>3.å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å…¬é’¥,å¼€å§‹éªŒè¯è¯ä¹¦çš„åˆæ³•æ€§,æˆ‘ä»¬çŸ¥é“ç³»ç»Ÿå†…ç½®äº†ä¸€äº›è¯ä¹¦,åº”è¯¥æ˜¯å«é¡¶çº§è¯ä¹¦å§</p>
<p>æˆ‘ä»¬çš„è¯ä¹¦å¹¶ä¸æ˜¯å•¥å¤§æœºæ„å‘çš„,è‚¯å®šä¸åœ¨é‡Œé¢,é‚£ä¹ˆå°±æ²¡æ³•éªŒè¯åˆæ³•.</p>
<p>â€‹     åˆæ³• &gt; ç»§ç»­</p>
<p>â€‹     ä¸åˆæ³• &gt; æ­¤æ¬¡Httpsè¯·æ±‚ç»ˆæ­¢</p>
<p>4.å®¢æˆ·ç«¯éªŒè¯å…¬é’¥åˆæ ¼å(ä¹Ÿå°±æ˜¯ç»™ä½ å‘æ¶ˆæ¯çš„æœåŠ¡å™¨æ˜¯æ­£ç»æœåŠ¡å™¨)ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä¼šç”Ÿæˆä¸€ä¸ª éšæœºå¯†ç ,å®¢æˆ·ç«¯ä¼šæ‹¿ç€è¿™ä¸ªéšæœºå¯†ç å’Œåˆšæ‰æ”¶åˆ°çš„æœåŠ¡å™¨å¯†é’¥åšéå¯¹ç§°åŠ å¯† &gt;&gt; å¾—åˆ°å¯†æ–‡çš„å¯†ç </p>
<p>â€”â€”â€“ä»¥ä¸Šç¬¬ä¸€æ¬¡httpè¯·æ±‚ç»“æŸäº†â€”â€”â€“</p>
<p>5.å®¢æˆ·ç«¯ä¼šå‘èµ·HTTPSä¸­çš„ç¬¬äºŒä¸ªHTTPè¯·æ±‚,å‘é€å®¢æˆ·ç«¯å¯†é’¥(å¯†æ–‡)ç»™æœåŠ¡å™¨ã€‚</p>
<p>6.æœåŠ¡å™¨æ”¶åˆ°å¯†æ–‡ï¼Œä¼šç”¨è‡ªå·±çš„ç§é’¥å¯¹å…¶è¿›è¡Œéå¯¹ç§°è§£å¯†,å¾—åˆ°å®¢æˆ·ç«¯åˆšæ‰ç”Ÿæˆçš„å®¢æˆ·ç«¯éšæœºå¯†ç .</p>
<p>æ­¤æ—¶æœåŠ¡å™¨ä½¿ç”¨å®¢æˆ·ç«¯éšæœºå¯†ç ,å¯¹æ•°æ®è¿›è¡Œå¯¹ç§°åŠ å¯†</p>
<p>7.æŠŠå¯¹ç§°åŠ å¯†åçš„æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯,å®¢æˆ·ç«¯å¯¹ç§°è§£å¯†,OK    æ­¤æ¬¡Httpså®Œç¾ç»“æŸ</p>
<p>â€”â€”â€“æ•´ä¸ªhttpsè¯·æ±‚ç»“æŸäº†â€”â€”â€“</p>
<p>å…¶ä¸­ , <code>å¯¹ç§°åŠ å¯†</code>å’Œ<code>éå¯¹ç§°åŠ å¯†</code>,  å„å¸å…¶èŒ,å…±åŒå®Œæˆæ•´ä¸ªè¯·æ±‚.</p>
<p>  å¯¹ç§°åŠ å¯†: æœ€å¿«é€Ÿ,æœ€ç®€å•</p>
<p>  éå¯¹ç§°åŠ å¯†:é€Ÿåº¦æ…¢,å¾ˆå®‰å…¨,ä¸éœ€è¦æŠŠç§˜é’¥åˆ†å‘,å®¢æˆ·ç«¯åˆ©ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®,åªèƒ½æ˜¯æ‹¥æœ‰ç§˜é’¥çš„æœåŠ¡å™¨è§£å¯†</p>
<p>åˆ©ç”¨éå¯¹ç§°åŠ å¯†çš„ç‰¹æ€§ä¼ é€’  å®¢æˆ·ç«¯ç”Ÿæˆçš„éšæœºå¯†é’¥ ,è¾¾åˆ°åªæœ‰æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯äº’ç›¸çŸ¥é“çš„å¯†é’¥,ä»è€Œä½¿ç”¨å¯†é’¥è¿›è¡Œ(é«˜é€Ÿç®€å•çš„)å¯¹ç§°åŠ å¯†æ•°æ®.</p>
<p><strong>ç¬¬ä¸€éƒ¨åˆ†:ä¿¡ä»»æ‰€æœ‰</strong></p>
<p>è¿™å°±æ˜¯,æˆ‘ä¸ç®¡æ˜¯è°ä¼ é€’çš„æ¶ˆæ¯,ä¸æ˜¯ä½ å®¶æœåŠ¡å™¨ä¼ é€’çš„æ¶ˆæ¯,ä½ ä¹Ÿä¼šä¿¡</p>
<p><strong>Api.java</strong> (æä¾›okhttpå®ä¾‹,å¹¶åˆ›å»ºRetroitæœåŠ¡)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClient okHttpClient = new OkHttpClient.Builder()</span><br><span class="line">               .hostnameVerifier(new HostnameVerifier() &#123;</span><br><span class="line">                   @Override</span><br><span class="line">                   public boolean verify(String hostname, SSLSession session) &#123;</span><br><span class="line">                       return true;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;)</span><br><span class="line">               .sslSocketFactory(createSSLSocketFactory())</span><br><span class="line">               .build();</span><br><span class="line">               </span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">//è¿™é‡Œæ˜¯åˆ›å»ºä¸€ä¸ªSSLSocketFactory,æä¾›ç»™ä¸Šé¢çš„ .sslSocketFactory()</span><br><span class="line">private  SSLSocketFactory createSSLSocketFactory() &#123;</span><br><span class="line">       SSLSocketFactory ssfFactory = null;</span><br><span class="line">       try &#123;</span><br><span class="line">           SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);</span><br><span class="line">           sc.init(null, new TrustManager[]&#123;new TrustAllCerts()&#125;, new SecureRandom());</span><br><span class="line">           ssfFactory = sc.getSocketFactory();</span><br><span class="line">       &#125; catch (Exception e) &#123;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       return ssfFactory;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æ¶‰åŠåˆ°<strong>TrustAllCerts.java</strong>,å¯ä»¥çœ‹åˆ°åªæ˜¯å®ç°X509TrustManager,æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é»˜è®¤å®ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * If you have any questions, you can contact by email &#123; wangzhumoo@gmail.com&#125;</span><br><span class="line"> * @author ç‹è¯›é­” 2018/1/8 ä¸‹åˆ2:25</span><br><span class="line"> */</span><br><span class="line">public class TrustAllCerts implements X509TrustManager &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException &#123;&#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException &#123;&#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class="line">        return new X509Certificate[0];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±ä»¥åŠå¯ä»¥äº†,ä¿¡ä»»æ‰€æœ‰çš„è¿æ¥</p>
<hr>
<p><strong>ç¬¬äºŒéƒ¨åˆ†:(å¼ºéªŒè¯)</strong></p>
<p>æˆ‘åªä¿¡ä»»è¯ä¹¦åˆæ³•çš„æœåŠ¡å™¨ä¼ é€’çš„æ•°æ®.</p>
<ul>
<li>æŸ¥çœ‹Httpsçš„è¯ä¹¦</li>
</ul>
<p><img src="images/https_zhengshu.png" alt="httpsè¯ä¹¦"></p>
<p>åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ°è¿™ä¸ª,è¿™ä¸ªå·²ç»æ˜¯æˆ‘æŠŠè¯ä¹¦æ·»åŠ ä¸ºä¿¡ä»»äº†,æ‰€ä»¥ä»–æ˜¯ä¸€ä¸ª <code>å®‰å…¨</code> çš„æ ‡å¿—</p>
<ul>
<li>åˆ†æ</li>
</ul>
<p><img src="images/https_root.png" alt="httpsè¯ä¹¦"></p>
<p>è¿™é‡Œæ˜¯æˆ‘æŸ¥çœ‹å½“å‰ç½‘ç«™è¯ä¹¦çš„ç»“æ„</p>
<p>æœ€é¡¶â€”æ˜¯æ ¹è¯ä¹¦,åˆ°æœŸæ—¶é—´æ˜¯2028å¹´</p>
<p>æœ€åº•â€”æ˜¯æˆ‘å¸è¯ä¹¦,åˆ°æœŸæ—¶é—´æ˜¯2018.12.9æ—¥</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°,æˆ‘ä»¬ç½‘ç«™çš„è¯ä¹¦æ˜¯æœ‰æ—¶é—´é™åˆ¶çš„,é‚£ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜,åˆ°äº†2018.12.9è¿™ä¸€å¤©æ€ä¹ˆåŠ.</p>
<blockquote>
<p>æˆ‘ä¹Ÿä¸çŸ¥é“ä¼šæ€ä¹ˆæ ·,åº”è¯¥æ˜¯ç»­ç­¾å§!é‚£ä¹ˆä¸‡ä¸€è¿™ä¸ªè¯ä¹¦å˜åŒ–äº†æ€ä¹ˆåŠ?</p>
</blockquote>
<p>æ‰€ä»¥,æˆ‘ä»¬åº”è¯¥æŠŠæ ¹è¯ä¹¦ç½®ä¸ºä¿¡ä»».</p>
<ul>
<li>ä¸‹è½½ä¿å­˜</li>
</ul>
<p><img src="images/https_save.png" alt="httpsè¯ä¹¦"></p>
<p>Macçš„åœ¨  é’¥åŒ™ä¸²è®¿é—®  ä¸­</p>
<p>Windows æ²¡æ³•æ”¾å›¾,åœ¨chromeä¸ŠæŸ¥çœ‹è¯ä¹¦çš„æ—¶å€™åº”è¯¥å°±èƒ½ä¿å­˜.</p>
<p><strong>HttpsUtils.java </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * If you have any questions, you can contact by email &#123; wangzhumoo@gmail.com&#125;</span><br><span class="line"> * @author ç‹è¯›é­” 2018/1/10 ä¸‹åˆ5:07</span><br><span class="line"> * æ”¯æŒhttpsçš„å·¥å…·ç±»</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">public class HttpsUtils &#123;</span><br><span class="line">    private static final String TAG = &quot;OkHttp&quot;;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * åˆ›å»ºä¸€ä¸ªç©ºç™½çš„KeyStore</span><br><span class="line">     * @return KeyStore</span><br><span class="line">     * @throws GeneralSecurityException</span><br><span class="line">     */</span><br><span class="line">    private static KeyStore createEmptyKeyStore() throws GeneralSecurityException &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());</span><br><span class="line">            //æ­¤å¤„å¯†ç éšæ„,ä¸ä¼šäº§ç”Ÿé—®é¢˜</span><br><span class="line">            keystore.load(null, &quot;password&quot;.toCharArray());</span><br><span class="line">            return keystore;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * TrustManager  ç”Ÿæˆ</span><br><span class="line">     * @return</span><br><span class="line">     * @throws GeneralSecurityException</span><br><span class="line">     */</span><br><span class="line">    private static TrustManager[] generateTrustManager() throws GeneralSecurityException &#123;</span><br><span class="line"></span><br><span class="line">        //åˆ›å»ºä¸€ä¸ªX.509æ ¼å¼çš„CertificateFactory</span><br><span class="line">        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);</span><br><span class="line"></span><br><span class="line">        Certificate ca;</span><br><span class="line">        //è¯ä¹¦å·¥å‚æ ¹æ®è¯ä¹¦æ–‡ä»¶çš„æµç”Ÿæˆè¯ä¹¦Certificate</span><br><span class="line">        InputStream assets = App.getContext().getResources().openRawResource(R.raw.rootca);</span><br><span class="line">        ca = certificateFactory.generateCertificate(assets);</span><br><span class="line">        Log.e(TAG, &quot;trustManager: ca = &quot; + ((X509Certificate) ca).getSubjectDN() );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //åˆ›å»ºKeyStoreï¼Œç”¨æ¥å­˜å‚¨ä¿¡ä»»è¯ä¹¦</span><br><span class="line">        KeyStore keyStor = createEmptyKeyStore();</span><br><span class="line">        keyStor.setCertificateEntry(&quot;ca&quot;,ca);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //åˆ›å»ºä¸€ä¸ªé»˜è®¤ç±»å‹çš„TrustManagerFactory</span><br><span class="line">        String defaultAlgorithm = TrustManagerFactory.getDefaultAlgorithm();</span><br><span class="line">        TrustManagerFactory tmf = TrustManagerFactory.getInstance(defaultAlgorithm);</span><br><span class="line"></span><br><span class="line">        //ç”¨keyStoreå®ä¾‹åˆå§‹åŒ–TrustManagerFactory,æ­¤æ—¶TrustManagerFactoryä¼šä¿¡ä»»æˆ‘ä»¬ä¿å­˜çš„è¯ä¹¦</span><br><span class="line">        tmf.init(keyStor);</span><br><span class="line"></span><br><span class="line">        //é€šè¿‡tmfè·å–TrustManageræ•°ç»„ï¼ŒTrustManagerä¹Ÿä¼šä¿¡ä»»keyStorä¸­çš„è¯ä¹¦</span><br><span class="line"></span><br><span class="line">        return tmf.getTrustManagers();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æä¾›ä¸€ä¸ªä¸€ä¸ªSSLSocketFactory</span><br><span class="line">     * @return SSLSocketFactoryå®ä¾‹</span><br><span class="line">     */</span><br><span class="line">    public static SSLSocketFactory generateSSLSocketFactory()  &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);</span><br><span class="line">            sc.init(null, generateTrustManager(), new SecureRandom());</span><br><span class="line">            Log.e(TAG, &quot;generateSSLSocketFactory &quot;);</span><br><span class="line">            return sc.getSocketFactory();</span><br><span class="line">        &#125; catch (GeneralSecurityException e) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨é‡Šå¾ˆæ¸…æ¥šäº†.</p>
<p><strong>å…³é”®:</strong></p>
<p>1.æ‹¿åˆ°å¸§æ•°çš„æµ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream assets = App.getContext().getResources().openRawResource(R.raw.rootca);</span><br></pre></td></tr></table></figure>
<p>2.ä¿å­˜åˆ°keystore</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">KeyStore keyStor = createEmptyKeyStore();</span><br><span class="line">keyStor.setCertificateEntry(&quot;ca&quot;,ca);</span><br></pre></td></tr></table></figure>
<p>3.åˆå§‹åŒ–å¹¶æ‹¿åˆ°TrustManager[]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tmf.init(keyStor);</span><br><span class="line">tmf.getTrustManagers()</span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨å³å¯:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//è¿™æ ·å°±Ok</span><br><span class="line">OkHttpClient okHttpClient = new OkHttpClient.Builder()</span><br><span class="line">                .hostnameVerifier((hostname, session) -&gt; true)</span><br><span class="line">                .sslSocketFactory(HttpsUtils.generateSSLSocketFactory())</span><br><span class="line">                .build();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¶…å¥½çš„ä¸¤ç¯‡</p>
<p><a href="http://blog.csdn.net/lmj623565791/article/details/48129405" target="_blank" rel="noopener">http://blog.csdn.net/lmj623565791/article/details/48129405</a></p>
<p><a href="http://blog.csdn.net/iispring/article/details/51615631" target="_blank" rel="noopener">http://blog.csdn.net/iispring/article/details/51615631</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangzhumo.com/Bug/WebViewæ’­æ”¾H5è§†å±æ²¡æœ‰ç”»é¢-åªæœ‰å£°éŸ³/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wangzhumo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headimage.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹è¯›é­”">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Bug/WebViewæ’­æ”¾H5è§†å±æ²¡æœ‰ç”»é¢-åªæœ‰å£°éŸ³/" itemprop="url">
                  WebViewæ’­æ”¾H5è§†å±æ²¡æœ‰ç”»é¢,åªæœ‰å£°éŸ³
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-01-04 11:03:45" itemprop="dateCreated datePublished" datetime="2018-01-04T11:03:45+08:00">2018-01-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-03-01 00:28:33" itemprop="dateModified" datetime="2018-03-01T00:28:33+08:00">2018-03-01</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bug/" itemprop="url" rel="index"><span itemprop="name">Bug</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>æè¿°:ç‚¹å‡»æ’­æ”¾æŒ‰é’®å,åªèƒ½å¬åˆ°å£°éŸ³,è€Œç”»é¢æ˜¯ç™½çš„â€¦.ä¸€ç›´ç™½â€¦æƒ³åˆ°åº”è¯¥æ˜¯ç¡¬ä»¶åŠ é€Ÿçš„é—®é¢˜</strong></p>
<p><strong>1.ç¡®è®¤ç¡¬ä»¶åŠ é€Ÿ(éæ­¤å› ç´ )</strong></p>
<p>åœ¨WebViewActivity.javaä¸­å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);</span><br></pre></td></tr></table></figure>
<p><strong>2.ç¡®è®¤AndroidManifest.xml(éæ­¤å› ç´ )</strong></p>
<p>applicationèŠ‚ç‚¹ä¸‹å¹¶æ²¡æœ‰å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:hardwareAccelerated=&quot;true&quot;</span><br></pre></td></tr></table></figure>
<p>åœ¨WebViewActivityä¸­,ä¹Ÿæ— è¯¥é…ç½®</p>
<ul>
<li>å°è¯•: WebViewActivity.javaä¸­,æ³¨é‡Š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);</span><br></pre></td></tr></table></figure>
<p>åœ¨AndroidManifest.xmlèŠ‚ç‚¹ä¸‹åŠ å…¥<code>android:hardwareAccelerated=&quot;true&quot;</code></p>
<ul>
<li>ç»“æœâ€¦â€¦æ²¡ç”¨</li>
</ul>
<p><strong>3.æ£€æŸ¥activity_web_view.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">WebView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/webView"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:scrollbars</span>=<span class="string">"none"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:visibility</span>=<span class="string">"@&#123;showError?View.GONE:View.VISIBLE&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ²¡é—®é¢˜.</p>
<p>BUTâ€¦.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layerType</span>=<span class="string">"software"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">"@layout/layout_toolbar"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/web_load_progress"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">"?android:attr/progressBarStyleHorizontal"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:indeterminateOnly</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:progress</span>=<span class="string">"@&#123;progress&#125;"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:progressDrawable</span>=<span class="string">"@drawable/progress_bar_states"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:visibility</span>=<span class="string">"gone"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">WebView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/webView"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:scrollbars</span>=<span class="string">"none"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:visibility</span>=<span class="string">"@&#123;showError?View.GONE:View.VISIBLE&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>####çˆ¶å¸ƒå±€ç«Ÿç„¶<code>android:layerType=&quot;software&quot;</code></p>
<ul>
<li>è§£å†³,åˆ æ‰è¯¥å±æ€§å³å¯</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/headimage.png"
                alt="wangzhumo" />
            
              <p class="site-author-name" itemprop="name">wangzhumo</p>
              <p class="site-description motion-element" itemprop="description">ç‹è¯›é­”</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">46</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/phyooos" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:wangzhumoo@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.jianshu.com/u/1e62cc41ac06" target="_blank" title="ç®€ä¹¦"><i class="fa fa-fw fa-book"></i>ç®€ä¹¦</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/phyooos/activities" target="_blank" title="çŸ¥ä¹"><i class="fa fa-fw fa-link"></i>çŸ¥ä¹</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wangzhumo</span>

  

  
</div>




  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.4.4</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.2.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.2.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.2.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
